#!/bin/bash

mkdir -p ./openapi-output
languages=("ada" "ada-server" "android" "apache2" "apex" "asciidoc" "aspnetcore" "avro-schema" "bash" "crystal" "c" "clojure" "cwiki" "cpp-qt-client" "cpp-qt-qhttpengine-server" "cpp-pistache-server" "cpp-restbed-server" "cpp-restsdk" "cpp-tiny" "cpp-tizen" "cpp-ue4" "csharp" "csharp-netcore" "csharp-dotnet2" "csharp-nancyfx" "dart" "dart-dio" "dart-dio-next" "dart-jaguar" "eiffel" "elixir" "elm" "erlang-client" "erlang-proper" "erlang-server" "flash-deprecated" "fsharp-functions" "fsharp-giraffe-server" "go" "go-deprecated" "go-echo-server" "go-server" "go-gin-server" "graphql-schema" "graphql-nodejs-express-server" "groovy" "kotlin" "kotlin-server" "kotlin-server-deprecated" "kotlin-spring" "kotlin-vertx" "ktorm-schema" "haskell-http-client" "haskell" "java" "jaxrs-cxf-client" "java-inflector" "java-msf4j" "java-pkmst" "java-play-framework" "java-undertow-server" "java-vertx" "java-vertx-web" "jaxrs-cxf" "jaxrs-cxf-extended" "jaxrs-cxf-cdi" "jaxrs-jersey" "jaxrs-resteasy" "jaxrs-resteasy-eap" "jaxrs-spec" "javascript" "javascript-apollo" "javascript-flowtyped" "javascript-closure-angular" "jmeter" "k6" "lua" "markdown" "mysql-schema" "nim" "nodejs-express-server" "objc" "ocaml" "openapi" "openapi-yaml" "plantuml" "perl" "php" "php-laravel" "php-lumen" "php-slim-deprecated" "php-slim4" "php-silex-deprecated" "php-symfony" "php-mezzio-ph" "powershell" "protobuf-schema" "python-legacy" "python" "python-fastapi" "python-flask" "python-aiohttp" "python-blueplanet" "r" "ruby" "ruby-on-rails" "ruby-sinatra" "rust" "rust-server" "scalatra" "scala-akka" "scala-akka-http-server" "scala-finch" "scala-httpclient-deprecated" "scala-gatling" "scala-lagom-server" "scala-play-server" "scala-sttp" "scalaz" "spring" "dynamic-html" "html" "html2" "swift4-deprecated" "swift5" "typescript" "typescript-angular" "typescript-angularjs-deprecated" "typescript-aurelia" "typescript-axios" "typescript-fetch" "typescript-inversify" "typescript-jquery" "typescript-nestjs" "typescript-node" "typescript-redux-query" "typescript-rxjs" "wsdl-schema")

for language in "${languages[@]}"; do
    npx @openapitools/openapi-generator-cli generate -i zerver/openapi/zulip.yaml -g "$language" -o ./openapi-output/"$language" --additional-properties=hideGenerationTimestamp=true --additional-properties=packageGuid="{FEC991B9-1F09-45BB-B47E-8B2B3F9F7FE4}" --additional-properties=userSecretsGuid="c2f0d3f1-45df-4a9a-afad-d91ef99945ca"
done
