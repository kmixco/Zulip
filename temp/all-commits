cc92777 docs: Add an initial document explaining our presence protocol.
0d164fa message_edit_form: Show default cursor instead of pointer.
c4e2899 settings: Pull nested radio-buttons closer together.
105eed0 install-node: Fix leaking of $HOME.
f56b4b7 zjquery: Simplify validation for $(...).
368b37e zjquery: Add a selector attribute to our wrapped elements.
f78947f zjquery: Fix minor typo in comments.
174d065 zjquery: Add to_$ hook so elements can wrap themselves.
f505f3d zjquery: Support $.fn.foo mechanism.
f5e0794 zjsquery: Give special treatment to "body" tag.
3971fae node tests: Fix some leaks with $(...).
041fd80 Revert "yarn: Revert back to v0.27.5."
f6ae57f install-node: Correctly fix yarn installation.
205bcb8 Fix recently broken reactions tests with s/html/text/.
50545a3 settings: Revert checkmark icon to fontawesome and checkbox-green.
250a036 install-node: Fix yarn installation.
fea65cb Update changelog and versions following Zulip Server 1.7.2.
d4b88e8 yarn: Revert back to v0.27.5.
feef35b linter: Add checks for sloppy use of .html().
5f0f492 unread: Clean up variable names around bankruptcy modal.
a6d8096 subs: Clean up variable name for rendered subscription count.
ab8fb23 emoji: Clean up variable names for rendered template content.
c90fbff settings: Clarify variable names for tab template rendering.
dbb62ba compose: Clean up variable names for preview logic.
f4aea3e invite: Clarify variable names for rendered_email_msg.
0db715d search_suggestion: Add escaping for email addresses.
65b9d9e CVE-2018-9990: Fix XSS issue with stream names in topic typeahead.
3bdc8bb CVE-2018-9986: Fix XSS issues with frontend markdown processor.
1207a08 CVE-2018-9987: Fix XSS issue with muting notifications.
92a04b3 custom fields: Clean custom fields to use existing defined function.
a19daf0 Settings: Fix vertical spacing.
8f984be docs: Fix typo in production docs.
d291def user-docs subsystem: Fix broken markdown.
390eeaa help: Remove follow-steps doc macro.
00255ad help: Remove the go-to-the macro.
55619cb browser-support: Add string.prototype.endswith polyfill.
e6833b6 cleanup: Remove the legacy Dropbox file upload integration.
6c1a50d csp_reports: Add endpoint to handle logging of reports sent by clients.
9546176 subscription: Show current user on top of subscribers list if present.
c662867 subscription: Add comments for recent changes covering corner cases.
132754f requirements: Downgrade pika to 0.11.0.
383c62f dev_login: Identify each user's realm when listing them.
a463743 puppet: Add Content-Security-Policy for user avatars.
f7398cb slack import: Implement custom profile fields.
852e851 slack import: Add custom profile fields.
ccefaf7 scripts: Remove the depreciated script 'postgres-reset-sequences'.
c36a658 uploads: Fix the upload progress bar.
a4def8d copy_and_paste: Re-disable copy-paste handler in production.
a183186 slack importer: User session.get to recycle previous connections.
b650b6b markdown: Add @stream as an alias for @all.
771db7f compose typeahead: Refactor repeating code for all and everyone mentions.
7c66d11 compose: Show avatars for people in typeahead autocompletes.
9b8dd4f install-yarn: Fix buggy status check for the signature.
d608a9d uploads: Add Content-Security-Policy for user uploads.
ee078c3 install-node: Upgrade node, yarn, and nvm.
57a494f browser-support: Add codepointat polyfill to `common` entry point.
b906562 browser-support: Add string.prototype.startsWith polyfill.
37a8328 people: Clean up now-unnecessary url variable.
40421c5 people: Refactor small_avatar_url logic for emails.
dfac030 people: Extract small_avatar_url_for_person.
3bfd96d people: Use a return for message.avatar_url code path.
5bcfecd people: Extract gravatar_url_for_email.
7a8655c Slack importer: Add test for Slack channel mention to Zulip stream mention.
630adb4 Slack importer: Map Slack channel mentions to Zulip stream mentions.
035c440 import script: Support import custom profile fields.
c41d7ee slack import: Write reasonable multi-line JSON.
0259564 subscription: Fix error in appending current user on top of subscriber list.
f5a7d12 subscription: Clean functions `peer_subscribe` and `peer_unsubscribe`.
dcf9355 subs.js: Rename function to `check_button_for_sub` to be more specific.
ed70a92 subscription: Fix error in being re-subscribed to private stream.
24f5173 subscription: Add real time sync for user-just-deactivated case.
cf40536 stream_edit.js: Add helper func to rerender all subscriptions settings.
211eba2 stream_edit.js: Add helper func to check if sub settings tab is active.
386c56b stream_data.js: Replace user_email with user_id in func is_user_subscribed.
c3df378 slack import: Document that this is a new feature in 1.8.
ed7127c import script: Delete medium sized avatars if it exists.
c63d1c9 node tests: Cover compose_not_subscribed in compose.js.
47f9e83 compose: Close the compose error message box on clicking X.
f6d73a7 settings: Fix label for message_content_in_email_notifications.
21d1133 subscriptions: Clear email address on unsubscriptions from stream.
f15ddc9 create stream: Fix stream email not rendering on stream creation.
b9f1acb linter: Enforce 2 space indents on tags spread over multiple lines.
550222d linter: Make multiline handlebar singleton tags use 2 space indentation.
2fe012f linter: Make html singleton tags use 2 space indentation.
7eacf2a org settings: Offset border to prevent adding extra height on hover.
3ed5a64 Dark-mode: Update rail-y to match dark theme.
f6feac1 Slack importer: Map Slack command for mentions to Zulip's all.
e037c2f import script: Fix upload links.
b3f951d import script: User profile ids should be allocated before allocating bot ids.
e92838a registration: Catch email validation error and show error message.
0e6757a org settings: Change default realm description to empty string.
df666c3 test-backend: Report fully covered files still in not_yet_fully_covered.
29a079e test-backend: Remove fully covered files from not_yet_fully_covered.
65c4a43 lint: Fix errors with stats.js with new eslint.
4b7ce53 settings: Revert "loader" indicator from fontawesome to SVG.
c852185 stream settings: Make deactivate stream handler global.
d1c57df estlint: Upgrade version of eslint.
2baa9bc Import: Add subdomain in the import script.
ad861c5 messages: Improve comment on need_messages.
3413fae provision: Bump provision version after clipboard package update.
42bbfea webhooks/splunk: Update docs to conform to style guide.
7b1ce44 webhook/opsgenie: Update docs to conform to style guide.
2e70047 webhooks/groove: Update docs to conform to style guide.
7b8da9b settings: Changed checkbox and close icons on settings.
58d07fa settings: Change save and discard button look and feel.
9a0fdf5 settings: Add a few more section headings.
9a9d309 settings: Add some visual weight to the section headings.
f597f0b settings: Revise block comment at top of file.
6396b3a docs/production: Make an editing pass through the SMTP doc.
b9f1f9c docs/production: Reorganize SMTP docs a bit.
9956d61 settings: Revise comments on SMTP / outgoing email settings.
c53458c user-groups: Add template for non-editable groups.
5c11ab8 pills: Add exportable function for creating non-editable pills.
9a6a825 settings: Make sticky feedback not disappear after delay.
381e498 settings: Fixes spinners and fades out feedback in settings.
95634b9 ui: Add ability to hide ui feedback messages.
605916f compose: Add subscribe button to the not subscribed stream error message.
d3627ab docs: Update new-feature-tutorial.
c5d5efa portico-signin: Remove fixed-width styling for OR lines.
b12368a compose: Fix fading when topic changes on re-narrow.
5a5b473 compose_actions: Keep the compose box open on topic change.
b9acdd9 compose_state: Re-fade message list when switching topics.
f5acbcb clipboard: Update clipboard to v2.0.0 to avoid variable name conflict.
d03d280 integrations css: Increase top/bottom margin for h3 headings.
231f1b3 integrations css: Properly indent <ul>'s nested inside <ol>'s.
eb9902e integrations css: Properly indent multi-paragraph list items.
d6cc1cf integrations: Render unordered lists with bullets.
42fb91d macros: Update link to installation instructions for API bindings.
902ab01 webhooks/trello: Update docs to conform to style guide.
b0b134c help: Clean up settings_html and subscriptions_html.
a29b1c1 help: Update change-your-name.
f4737e7 help: Update view-an-image-at-full-size.
efecad2 help: Update view-and-edit-your-message-drafts.
05d3073 vagrant: Fix link to testing docs in motd.
3684441 bug fix: Respect include_history for certain queries.
b64117d refactor: Build query in find_first_unread_anchor().
345d44b Extract get_base_query_for_search().
59a9b69 Simplify search code for keyword searches.
d521906 search refactor: Extract add_narrow_conditions().
3ac660d minor: Show `narrow` for UnicodeDecodeError.
ed5b374 help docs: Fix a sorta buggy URL test.
d7658bb test_docs: Add an end-to-end test for HTML settings links.
57ca193 help: Make API context available to sidebars.
9888960 help: Fix structure of markdown context logic.
f1ece37 help: Fix context not being passed properly to rendering.
2cf32bd embed link: Add test for link_embed_data_from_cache.
a0aa8d4 Add test for find_first_unread_anchor().
4cba679 Move code for find_first_unread_anchor().
d8a95c6 Extract find_first_unread_anchor().
6262460 refactor: Rename mark_message(s)_as_read to notify_server_message(s)_read.
5740af2 help: Update import-data-from-slack.
c164d07 zjquery: Enforce only one arg for $(...) function.
4216b81 Fix Subscribed/All Streams bug.
27770d7 Fix recent pitfall in toggle component.
0e7073e Fix keyboard handling for info overlays.
bd59142 Add keydown_util.js module.
c06565d users: Improve testing for user_ids_to_users.
4d2082a actions.py: Obtain bot profiles by using users.user_ids_to_users().
807a6cc users.py: Implement user_ids_to_users() by generic_bulk_cached_fetch().
53e47e6 messages: Modify access_message for is_history_public_to_subscribers.
bec71d7 messages: Add a server-level setting to control private stream history.
228f41e messages: Pass UserProfile to is_public_stream_by_name and rename.
5e82d75 get_messages: Refactor ok_to_include_history to accept a UserProfile.
2aaad50 org settings: Hide "disable" option when setting already disabled.
721b4e8 i18n: Fix strings for wildcard mentions.
aeef925 custom fields: Fix error in rendering long textual custom fields.
8bc1818 custom fields: Remove unused code for custom fields.
ecec489 docs: Further update the Slack import instructions.
48e219e docs: Update import data from slack doc.
f4ad464 import script: Fix broken links to attachments.
5a9cea4 import script: re map foreign key of UserProfile.last_active_message_id.
ed36314 import script: Fix 're_map_foreign_keys' logging error.
877c776 import script: re_map Attachment foreign keys.
96e01c0 pypi: Upgrade to release 0.4.3.
591e152 org settings: Fix error handling for upload custom emoji.
9156591 docs: Update changelog through current master.
682d4f2 casper: Fix expected result for i18n test.
3882903 docs: Correct broken link on gsoc-ideas.md.
7bf16f4 i18n: Update translations from transifex.
a66a15a requirements: Upgrade pyldap to latest version.
6f15e63 hotkeys: Add shortcuts for pan and zoom in lightbox view
a613f3c get_owned_bot_dicts: Optimize admin's bot dicts loading from database.
e59c85c casper: Fix tests for custom profile fields.
4bf6904 message_live_update: Fix double re-rendering of home_msg_list.
ee939f4 message_list: Fix unnecessary work re-rendering all_msg_list.
2804a8c message_list: Fix scrolling upwards when users change names.
758d7b9 bots: Clean up editing bots impacting non-bot users.
3d900a7 settings_users: Fix sending queries to /json/bots endpoint.
f6a355e user settings: Disable autocomplete for name-change form.
938c4ce settings: Add option to control Jitsi video chat integration.
e792fc6 spelling: Correctly write "cannot".
026ff48 webhooks/bitbucket2: Detect pushes that remove branches correctly.
ad3ea77 actions.py: Rename get_service_dicts_for_bots() to get_service_dicts_for_bot()
83f4c0a ui.js: Add minimum scrollbar length.
da27461 bugdown: Rename rewrite_if_relative_link to more clear name.
7d4234b bugdown: Only open #narrow hash links inside the app.
6744938 bugdown: Simplify implementation for target_blank.
6055a7b bugdown: Clean up rewrite_if_relative_link.
b58cd46 profile: Fix field types on the frontend.
e48f8bd check_short_string: Use check_capped_string for impl.
7fdf043 profile: Set max length for long text to 500.
1d4b744 check_short_string: Change max_length to 50.
c30a282 profile: Remove integer and float fields.
c473ce0 requirements: Upgrade Django to 1.11.11.
bdf6e08 requirements: Upgrade python-twitter to 3.4.1.
1bba6cc slack importer: Support custom emoji reactions.
2c116e4 slack importer: Get custom emojis.
00c1f25 import script: Support custom emojis.
c650b8f slack importer: Add zerver_realmemoji.
b133d17 slack importer: Change 'get_user_data' function implementation.
220ad6a slack importer: Map standard reactions.
6f867fe import script: Support import of reactions.
8a02814 slack importer: Remove id allocation function and its implementation.
d147bd2 import script: Change file path of the upload in the import script.
ff34d07 import script: Add function to update model ids after allocation.
a2ecdeb import script: re_map minor foreign keys.
0784535 import script: re_map Message foreign keys.
93aabcb import script: re_map Subscription foreign keys.
9ef7870 import script: re_map Recipient foreign keys.
4537223 import script: re_map UserProfile foreign keys.
1314e7d import script: re_map Stream foreign keys.
8624ba4 import script: re_map Realm foreign keys.
2b0ee47 import script: Refactor re_map_foreign_keys.
cd0871b Import script: Add id allocation functions.
1011549 real-time sync: Server sends recipent data with delete_message event.
e1d9e3a real-time sync: Use process_read_messages_event in delete_message event.
a65f628 docs: Fix a broken link to the Cloud9 documentation.
986e55e docs: Move summer with Zulip doc from Dropbox paper to ReadTheDocs.
15d42f8 left sidebar: Fix "Compose" in stream actions popover prefills topic.
3cfc760 deprecation: Add fallback for if local storage is not available.
1227857 hotkeys: Replace C with x for composing PM.
af004fa rabbitmq: Connect to rabbitmq via 127.0.0.1 rather than localhost.
ad066ca org settings: Use `get_property_value` to get property elem value.
8d70e59 org settings: Rename functions for more clarity.
7fbf613 org settings: Unexport functions not used in other modules.
7def65d style: Give inputs with `type="number"` a dark background in night mode.
ca34b8e version: Bump version to facilitate py dependency upgrade.
9e7a8d1 requirements: Upgrade lxml to 4.2.1.
0347536 requirements: Upgrade cryptography to 2.2.2.
082f8bb requirements: Upgrade cffi to 1.11.5.
47f79a0 requirements: Upgrade stripe to 1.79.1.
211826a requirements: Upgrade twilio to 6.11.0.
94c1077 requirements: Upgrade SQLAlchemy to 1.2.6.
ab81d83 requirements: Upgrade Sphinx to 1.7.2.
0cba334 requirements: Upgrade setuptools to 39.0.1.
dda3aad requirements: Upgrade PyJWT to 1.6.1.
eb109c6 requirements: Upgrade pip to 9.0.3.
685ae40 requirements: Upgrade pika to 0.11.2.
82c1c86 requirements: Upgrade oauthlib to 2.0.7.
d17f9d3 requirements: Upgrade moto to 1.3.1.
eeb454d requirements: Upgrade imagesize to 1.0.0.
c046451 requirements: Upgrade httplib2 to 0.11.3.
47afc01 requirements: Upgrade google-api-python-client to 1.6.6.
64e6db5 requirements: Upgrade django-webpack-loader to 0.6.0.
46ed1b3 requirements: Upgrade disposable-email-domains to 0.0.23.
85077fb org settings: De-duplicate template content for checkboxes.
e317cd2 org settings: Add labels as a context to admin templates.
07af13c org settings: Extend settings checkbox template for label & prefixed id.
b7aae89 org settings: Add realm level default time format setting.
f4d6b2a org settings: Split "Language and notifications" section.
e04b827 org settings: Remove obsolete UI updating code for realtime sync.
724117c org settings: Refactor the `render_notifications_stream_ui` function.
21fe9fe org settings: Add elem param to the render_notifications_stream_ui.
072bd30 tests: Add another test for the can_admin_user code path.
87cc548 pypa: Upgrade to release 0.4.2.
9d052bc copy_and_paste.js: Fix exception on IE11 with clipboardData.
cd8c15f pills: Use a template to render the pills.
d48fb1d pills: Use insertText for copy/paste.
3fd8d71 websockets: Fix race condition in CSRF token initialization.
4ce8f2a upload: Rename upload_message_image to upload_message_file.
f839d52 decorators: Log custom HTTP headers in webhook requests.
51113ba desktop-app: Update app to latest v1.9.0.
e840e5b Revert "Ignore new messages when lists are behind."
8b91ea3 Revert "Suppress local echo when we are not caught up."
9684514 help: Fix a few errors in edit-or-delete-a-message.md.
5c1dd16 settings: Eliminate remaining NEW_USER_BOT code.
9ce9c2f Extract info_overlay.js.
efeee28 settings: Remove obsolete lines of code.
aca2364 settings: Focus "Add a new bot" tab when there is no active bot.
0ef195e settings: Refactor code for focussing bot tabs.
2a0491c docs: Update help/messages_sent_over_time.png
90e10a1 components: Simplify toggle component.
0d35bbc install: Install the wget package.
a3ed83f markdown: Update bugdown emoticon translation logic to match frontend.
c14cefc settings: Add support for adding/removing custom profile fields.
7885dd4 profile: Send field types to client side.
f6fb885 profile: Send operation in the event.
d8cfb49 css: Remove obsolete .markdown .footer block.
656f882 bots: Eliminate NEW_USER_BOT.
2bc5193 test_fixtures: Add settings files to things that require reprovision.
4570936 models: Fix default value for last_reminder.
044fb0a i18n: Fix handling of OR on login/register pages.
ff92cda clean-npm-cache: Use islink to check node_modules.
382f931 night mode: Fix unreadable new user tips.
e145258 node tests: Add 100% coverage for components.js.
1237f81 settings: Fix typo.
b580c62 settings: Fix exception on updating bot_creation_policy.
9f2a3c2 settings_org: Fix spelling in set_create_stream_permission_dropdwon.
35cfb86 org settings: Fix real-time sync for realm_waiting_period_threshold.
7eea186 org settings: Make sync_realm_settings to be available at load time.
29f57d5 org settings: Move discard_property_element_changes out of `_setup`.
e53c6f5 org settings: Move independent functions out of `_setup` function.
4472f5b org settings: Prefer `val` over `attr` to change value of dropdown.
6ec5c28 org settings: Move property types out of `_setup` function.
115b633 markdown-tests: Allow ignoring certain fixtures while developing.
c0ea4f2 markdown-tests: Show bugdown testcase name on failure.
5fb3bff certbot: Don't prompt when installing apt packages.
f5a57dc settings notification: De-duplicate template content for checkboxes.
86967c2 settings: Include settings label as context to template.
431ede7 minor: Clean up how we set flags in events.
838e588 clean-emoji-cache: Stop recalculating paths for other deployments.
7b2c922 clean-npm-cache: Fix buggy garbage-collection logic.
00dd869 puppet: Add Debian 9 package names to definitions.
6e89b60 tools/mypy: Enforce a more explicit checking of Optional.
704c333 mypy: Add explicit Optional for default=None parameters in export.py.
090b47e mypy: Add explicit Optional for default=None parameters in various files.
9a90c22 dialogflow: Fix invalid coding tag in top of file.
3d5b6539 unread: Fix confusing aliasing of variable names.
e1eabe2 integrations: Add Gocd webhook integration.
a583733 settings: Fix error handling for uploading an invalid file for Upload icon.
013a888 styles: Rename dark.css to night_mode.css.
d92af69 styles: Rename dark-mode to night-mode.
c94deff mypy: Remove some now-unnecessary type: ignores.
df857fb Test maybe_load_newer_messages.
084ef0b Fetch new messages when you scroll forward in narrows.
80ed829 Suppress local echo when we are not caught up.
bcdd127 Ignore new messages when lists are behind.
4e43151 Update message_list.all.fetch_status during frontfill.
60c77dd Update message_list.all in do_backfill().
419208c settings: Refactor to use pluck to extract `setting` attribute.
6427afe settings notification: Wrap subsections in seperate divs.
1d88eb5 org permissions: Remove redundant status elements.
3c96b04 emoji: Add translate_emoticons flag in bugdown testcases.
b976447 markdown: Test the translate_emoticons flag.
6dda3fe emoji: Do selective local echo of emoticon conversions.
33b6e19 org settings: Remove obsolete property_types's status messages.
2f496ff org profile: Use new org setting changes saving framework.
034eaf0 org settings: Restructure org-profile-admin template.
6279a9e message view: Hide "view source" and "quote" for deleted messages.
79672ff populate_db: Pre-populate open graph cache to avoid network activity.
ac7031d message_list_view: Add a workaround for Chrome scrolling down bug.
5404eda tests: Verify database queries for realm administrators.
07971d3 linter: Add check that Optional models are tagged with null=True.
7d93f57 linter: Add check that null=True lines are annotated as Optional.
9d26c78 mypy: Annotate last null=true in models.py; modify mypy.ini exclusions.
1416c9f mypy: Broaden model variables with null=True to be Optional.
43ec04d narrow: Fix a buggy condense_and_collapse call.
97b90c1 condense: Re-condense all messages on window resize.
3b29d00 setup-apt-repo: Fix use of shasum alias for sha1sum.
4cf42ce settings: Move remove-default-stream-button handler to settings_streams.
825f5fe stream_create: Finish handler cleanup.
954fcee stream_create: Make handlers more modular for users.
04e25fe Extract stream_create.create_handlers_for_users().
0f58f20 tests: Clean up test-js-with-node output on success.
ed9eb3b tests: Make test-js-with-node handling smarter.
eb0da20 settings: Clean up repeating code in error callbacks.
cb54acf stream create: Make docs open in another tab.
f8e0137 node test: Add message_fetch.js tests.
3dd1d78 node tests: Add test_render_windows().
9a6e84a requirements: Upgrade mypy to 0.580.
d1c7a40 i18n: Ignore var directory.
8810245 mypy.ini: Expand tests wildcard from strict-optional into files list.
ac09687 mypy: Raise in commands/create_user.py if initial_password returns None.
de76297 mypy.ini: Move purge_queue exclusion into re-architecting section.
3b28d6a mypy: Rewrite sign_is_valid in zthumbor helpers.py for None secret_key.
8b697b4 mypy: Annotate stream_data in populate_analytics_db.py handle function.
a95e900 css: Apply the CSS for `!!! tip` syntax to integrations.
ee895fa integrations/rss: Recommend integrating RSS via Zapier.
3e47a9f org settings: Add real-time syncing for property changes.
3150584 org settings: Handle dependent sub settings manually.
84a5786 org settings: Refactor the discard changes function.
a779fc6 org settings: Use disable_sub_setting_onchange for dependent checkbox.
f17fa33 org settings: Fix discard changes for realm_create_stream_permission.
ce156dd settings_ui: Revert extension for success callback in do_settings_change.
aac76c1 settings: Avoid duplicate form handlers.
e30b619 Fix leaky O(N) email hint handler.
f97fe78 zjquery: Add support for off().
4886d92 webhooks/pivotal: Check if content == "" before sending a message.
538746f webhooks: Stop raising an exception if stream does not exist.
4b8bd0b webhooks: Add Dialogflow integration.
45f0df6 message view: Removed message_rendered.zulip event.
4f05cef Remove obsolete code for stream subscribe buttons.
d32d7a9 test_logging_handlers: Mock out `git describe` because can be slow.
b9fdb2c mypy: Add warn_no_return option to mypy.ini.
9a49812 mypy: Extract default run-mypy options into mypy.ini.
fb4f5c8 tools: remove strict-optional command from run-mypy.
f262936 docs: Update changelog through current master.
51073af subs: Remove incorrect expectOne() in settings_button_for_sub.
195b96c lightbox: Add debugging code for unknown message IDs.
78a4924 markdown: Apply both bold and italic for words like ***text***.
d403b7a user-groups: Prevent user not in user group from editing/deleting it.
5ac7671 user-groups: Update UI to mention only members can edit a user group.
86eaa55 user-groups: Add backend enforcing for new modification settings.
f3501b7 user-groups: Update css for a user who is not in a user group.
b637cc6 display-settings: Fix indentation of emoticons checkbox.
4b8dda2 display-settings: Move emoticons option after emoji style.
b42a7b1 digest: Add a server setting, and disable by default.
42a6414 digest: Split out tests into their own file.
9ec3b58 mypy: Add mypy.ini, including strict-optional by default.
70117f0 mypy: Add asserts of intermediate values in update-authors-json.
2762aab mypy: Add assert for re search being None in appfollow webhook.
f32f3cb mypy: Amend zulip-ec2-configure-interfaces to avoid None.
f0e3fcb mypy: Amend test-backend:internet_guard to return NoReturn.
97836c4 mypy: Remove Optional & Mutable from do_schedule_message.
306f042 mypy: Add Optional to function return in groove integration.
2079c5e mypy: Mark Subscription as Optional in lib/streams.py:access_stream*.
d741e0e mypy: Introduce query variable in lib/users.py for clarity.
0b3b363 zilencer: Fix buggy RemotePushDeviceToken __str__.
9286a97 webhooks/gitlab: Stop filtering comments when description is null.
62c0d27 push_notifications: Handle errors with token reuse.
5e4b445 zilencer: Add __str__ methods for Remote models.
f7c563d migrations: Fix 0149_realm_emoji migration for S3 case.
886e77e subscription: Fix bug in display email hint popover on hover.
917b214 subscription: Improve email-hint popover style.
dfb364e settings: De-duplicate template content for save/discard widgets.
c501174 org settings: Fix unexpected saving of input-text fields on "Enter".
8304c37 org settings: Make each subsection of org-permissions independent.
3b7f045 org settings: Extract function to discard changes done in a subsection.
f900f95 message edit: show spinner on topic change.
c786413 custom profile data: Remove up/down spin button from integer field.
f4d660d custom profile data: Change size of textarea input field.
ea8af14 custom profile data: Remove placeholder for input fields.
603dc4a electron_bridge: Notify electron app when realm name is updated.
f0190fe electron_bridge: Notify electron app when org avatar is updated.
93f7324 dark-mode: Darken background color of unread topic/PM counts.
fd486f7 input-pill: Fix vertically-misaligned PM compose pills.
9d89d0e dark-mode: Change miscolored popover arrow colors.
b7f6dbf input-pill: Force words to break to prevent text overflow.
af8271a message-view: Align controls and timestamps to the right on mobile.
675e844 team page: Add contributors of zulip-terminal.
1ea6bee team page: Clean up navbar.
59b1f59 user-groups: Add function wrappers to reduce variable scope.
9969762 input_pill: Change user group pills to be same as PM pills.
fcd2653 message editing: Fix buggy timestamp check.
91197fa org settings: Add logic for applying allow_community_topic_editing.
f5c2fb8 org settings: Create backend api for allow_community_topic_editing.
ecd75cc models: Add allow_community_topic_editing setting.
08a6271 update-authors-json: Improve error handling for duplicate commits.
91185b7 Updated source-map-loader to 0.2.3.
2b3eb7f Updated i18next-xhr-backend to 1.5.1.
a9ba630 Updated jquery to 3.3.1.
a4da724 Updated typescript to 2.7.2.
f0e49e6 Updated webpack-bundle-tracker to 0.3.0.
865480e portico: Fix positioning of "disposable email address" errors.
8535625 parse_user_agent: Assert user agent is not None.
66b007a docs: Replace SEND_ALL with ALWAYS_SEND_ALL_HOTSPOTS in hotspots.
4accf06 webhooks/front: Update text and remove screenshots.
9ae0cc0 webhooks/front: Remove numbers from fixture names.
05386f2 webhooks/front: Use a separate function for each event.
428e505 webhooks/front: Eliminate unnecessary error handling.
f97cff5 org settings: Fix casper failing due to check_property_changed.
4e277bc docs: Remove unnecessary lines from oauth docs.
6cdbcfd org settings: Refactor check_property_changed.
393d4d3 org settings: Use same CSS for new saving buttons in all settings.
42ee40d org settings: Refactor failed status element to use class.
22ab571 org permissions: Extract logic to complete request data for subsection.
c5696f8 org permissions: Restructure org-permissions-admin template.
e44a8b8 logging: Add a setting to aid manual testing of error-notif changes.
fe0f1ed settings: Fix double negative in LOGGING_NOT_DISABLED.
73559e5 queue: Suppress error mail from brief rabbitmq downtimes.
d857f26 refactoring: Remove unused assignment on ensure_stream.
3396cfc refactoring: Replaced occurences of create_stream_if_needed.
11c995b custom profile data: Send event to active user on update.
82c8d43 custom profile data: Enable user to edit custom field's value in settings.
b404d0e custom profile data: Set custom field's values in user setting page on load.
66f8044 custom profile data: Add template for custom user profile fields.
14fba1b user settings: Move deactivate account setting to the bottom of page.
6f1955a zerver/tests/test_events: Fix `test_custom_profile_fields_events` tests.
6ac6877 populate_db: Remove the `test_suite` check for custom profile fields.
a110736 Use do_backfill() in start_backfilling_messages().
7242fa8 message_fetch: Extract do_backfill().
e8bc781 Use message_list.all for backfill anchor for home view.
f524a09 refactor: Extract message_fetch.get_backfill_anchor().
2a2df0e auth: Make redirects to next work for REMOTE_USER based Apache SSO.
b62bdde login_redirects: Make redirects to narrows from login page work.
1e48dac auth.py: Make redirects to 'next' url work for google and github.
9a100b1 auth.py: Make redirects to 'next' url work for dev environment.
1d4e4d0 test_auth_backends: Add next='' in data dicts for subdomain login tests.
1e7dc70 reactions: Fix the hotkey for adding an emoji reaction.
6437269 emoji: Fix the filtering condition in `check_emoji_admin()`.
a49655e emoji: Migrate realm emoji to be addressed by `id` rather than `name`.
7bda069 vagrant: Graciously fail when vagrant user can't write to /srv/zulip.
7929bf5 Don't replace the DEFAULT_SERVER_URL unless required
a3bb819 docs: Fix broken link in features advertisement.
2363c99 ui scrollbar: Update perfect-scrollbar to 1.3.0.
a021485 copy_and_paste.js: Support copying recipient headers from several topics.
cdd3b81 copy_and_paste.js: Extract method for constructing recipient header.
2320a38 copy_and_paste.js: Extract method for constructing div with copied text.
b94a24f reactions: Fix buggy migration for realm emoji.
2a178b5 logging: Suppress error mail from routine pika connection failures.
3b31545 queue: Don't blow up when a connection closes quickly.
9dcc436 queue: Fix __init__ logic so heartbeat choice works fully.
5edc26a queue: Cut disused, broken parameter to `_connect`.
4edf66f Track fetch status of initial home message load.
df4d325 Extract start_backfilling_messages().
c282b94 Track fetch status for initial narrow.
0169a06 stream_data: Fix traceback with opening the compose box.
51018e1 message_edit: Remove obsolete block for diff highlighting.
679941b compose: Fix "compose fade" not working when private message focused.
64bca56 docs: Update screenshot tools.
b884010 yarn: Update broken yarn lockfile.
9ca335b org settings: Add discard button to discard changes for a subsection.
62f6468 org settings: Show "save" button only when setting is changed.
be02983 org settings: Make each subsection independent for saving changes.
d0355f5 slack importer: Show when files are being downloaded.
e729114 slack importer: Add '/me' in content for specific subtypes.
f29a191 hotspots: Add ALWAYS_SEND_ALL_HOTSPOTS in dev_settings.
a5472dd initial_password: Add unit test for INITIAL_PASSWORD_SALT = None.
9e17692 markdown: Add unit test for render_tex.
1579f8c messages: Add unit test for get_raw_unread_data.
3b4ff4f markdown: Clean render_markdown.
1e45398 stream settings: Fix exceptions when rerendering subscribers.
2cbfcbb subscription: Fix unexpected blueslip warnings on add subscriber.
64dac1b Docs: Added "connect the zulip upstream repo" to more places.
70ccc30 management command: Add unit test for MultipleObjectsReturned case.
333b8b0 subscriptions: Use tooltips for stream info hover content.
646700b emoji: Start using `get_active_emoji()` in `emoji_name_to_emoji_code()`.
23c8da2 models: Extract 'get_realm_emoji_dicts()'.
f2e8fff ifttt: Support topic as preferred alternative to subject.
2a2549c zapier: Support topic as preferred alternative to subject.
7485461 notifications: Check if localstorage is enabled.
500fa9d webhooks: Improve explanation of setting specific topics.
8fbd8c6 webhooks: Update macros to specify custom topics and default PMs.
857569c webhooks/teamcity: Use check_send_webhook_message.
3dafbfa webhooks/beeminder: Use check_send_webhook_message and update docs.
a4bdd5b tests: Add unit test for get_user_profile_by_email.
ae08028 subscriptions: Prevent long stream names from overflowing header area.
149cc01 dark-mode: Change grey color of .subscriber-count and .message-count.
41bfeef subscriptions: Fix broken color property for .mute-note.
01a7e86 subscriptions: Remove obsolete CSS class.
b34b8cd hotspots: Fix real-time sync for dismissing hotspots.
120ebc8 hotspots: Move the code for closing hotspot icon to hotspots.js.
e585340 mypy: Re-annotate capture_and_throw in terms of ViewFuncT.
2ed6da7 mypy: Rewrite some middleware annotations to use ViewFuncT.
22071a4 antispam: Add a sitewide ratelimit on invites by new realms.
dc1eeef antispam: Make a setting for default Realm.max_invites.
69a7069 migrations: Fix text version to Custom Emoji.
7919539 check-capitalization: Include banned words in overall output.
9dcc278 models: Rename realm emoji to custom emoji.
c3f94fa stream_create: Fix use of "realm" in an error string.
209c813 decorator: Improve error message for a deactivated organization.
0e5c954 users: Fix error string for disposable email addresses.
149f3ef realm: Clean up use of "Realm" in more user-facing strings.
8e334b0 check-capitalization: Exclude certain uses of the word "realm".
c147d2e notifications: Fix missed-message emails for presence-idle users.
34e165c webhooks: Fix passing client string to authenticated webhook API views.
a497941 webhooks: Migrate most integrations to use check_send_webhook_message.
a1e3c91 webhooks: Delete duplicate statuspage.io fixtures from GCI.
a3e60ed docs: Update setup docs for postgres extensions.
610f2cb notification email: Send followup_day2 email two days later.
5f7f2d6 mypy: Remove type: ignore from check_url test, as is now true Validator.
5726d26 mypy: Use centralized Validator in request.pyi & validator.py.
8a53e83 help: Use more consistent module name for perfectScrollbar.
5916249 Refactor perfect-scrollbar: Call ui methods in stream_list.js.
26eb60b Refactor perfect-scrollbar: Call ui methods in topic_list.js.
336d81c Refactor perfect-scrollbar: Call ui methods in resize.js.
a50054b Refactor perfect-scrollbar: Call ui methods in scroll_bar.js.
ba05ac5 Refactor perfect-scrollbar: Call ui methods in emoji_picker.js.
0281079 stream settings: Send all private streams subs to realm admins on load.
72a440a stream settings: Fix error in real time sync in subs add/remove event.
e8f6b9e js/stream_edit.js: Remove function to update stream on subs add/remove.
6ffe2cc compose: Fix "New Topic" button behaviour auto-populates the current topic.
1250951 message_viewport: Call set_message_offset() for prepending.
58c1427 message_fetch: Use found_oldest flag from server.
93678e8 webhooks: Migrate 14 webhooks to use check_send_webhook_message.
af56df7 webhooks: Enable custom topics and default PM notifications.
707af5a cache: Remove a now-unnecessary TODO.
966ca70 mypy: Finalize migration of cache.py to python3 function annotation.
005cb6b mypy: Improve [get_]cache_with_key typing & use py3 annotation.
bf4dce2 mypy: Use centralized Validator definition from types.py in models.py.
b79c384 mypy: Introduce strict definition of Validator into types.py.
99bae7f slack import: Improve algorithm and formatting for attachments.
0607116 slack importer: Handle case where attachment download link is not from slack.
6f3c870 slack importer: Move output folder being extracted from /tmp to var/.
b7d6608 slack importer: Clean 'create_converted_data_files' function.
4b66a2d slack importer: Add function to fetch and save uploads.
e62945e slack importer: Implement changes in script due to zerver_attachment.
8e2d930 slack importer: Implement changes in script due to user upload object.
b0851eb slack importer: Add helper functions to build attachment object.
68af6e4 slack importer: Add helper functions to build user uploads object.
9105692 Add typing.initialize() to prevent tracebacks.
6d85f8c slack importer: Randomize stream colors.
90a3ffc slack importer: Include only slack's purpose field in description.
8a4f307 slack importer: Change topic for imported content.
4139e6c reactions: Fix migration to correctly handle corner case.
ec21997 slack import: Fix importing of bot users from Slack.
a5b0957 slack importer: Set domain name in 'do_convert_data'.
a2fa087 attachments_ui: Remove unnecessary export of bytes_to_size.
14e8ac5 migrate: Remove dead migration code.
4fb1704 settings: Add save instructions below pill container on changes.
dd5ce49 settings: Add button to cancel user group auto save on blur.
40d6ee5 settings: Move user group delete button to top right corner.
28f0ac2 settings: Save user group name/desc changes along with member changes.
9aec2b8 settings: Auto save user group members on blur.
8b54b08 org settings: Restructure org-settings-admin template.
c4fda0e org settings: Extend populate_data_for_request for selected property types.
c4d0fb6 org settings: Split `property_types` according to sections.
0bd5a7c settings_ui: Extend `do_settings_change` for other request methods also.
01a160d settings_ui: Extend do_settings_change for other optional parameters.
c89ae4e stream settings: Improve strings in traffic level section.
242f6d6 stream settings: Show subscriber counts unconditionally.
ae7fe85 stream settings: Improves visual appearance of "subscriber counts".
301a28e docs: Add user guide for `Zulip in a Terminal`.
68f816b forms: Fix missing translation tag for disposable emails.
c385fce templates: Fix translation tag for disposable email tooltip.
b13150a models: Do the check for disposable email in email_allowed_for_realm.
951b88d models: Make email_allowed_for_realm raise exception.
1df2ed4 models: Remove unused GetRealmByDomainException,.
88046f8 mypy: Rewrite zulip_login_required annotations in terms of ViewFuncT.
8edb47e mypy: Fully use ViewFuncT in decorators.py; remove WrappedViewFuncT.
a8f7a49 mypy: Apply type: ignore to api decorator tests.
e30ba19 mypy: Apply type: ignore to api_github_webhook_dispatch calls.
31dce7c minor: Request parameter should be of type HttpRequest.
80a7c16 minor: Remove unused WrapperT from zerver/decorator.py.
3dbe772 mypy: Migrate some Callable[..., HttpResponse] to ViewFuncT in decorator.py.
1793717 mypy: Centralize ViewFuncT definition into new file zerver/lib/types.py.
95067dd org settings: Disable "Add filter" button when a request is in transit.
233e1b4 org settings: Clear input fields of filter settings on success.
a3d8cc1 Mypy: Migrate tornado/descriptors.py to python3 function annotations.
a7bfb09 Mypy: Use models.py QuerySet annotation approach in stream_subscription.py.
ce4ac0d Mypy: Ensure consistency of QuerySet return types in models.py.
a4a8527 search: Return info flags in payload.
c6839e0 search: Fix num_after/num_before semantics precisely.
6f3ebf6 Add post_process_limited_query().
bd95b37 search: Make `num_after`/`num_after` more consistent.
ec5299b search refactor: Rename query_result to rows.
61a184b tests: Add first_visible_id_as() helper.
c8d5cf7 user-groups: Achieve 100% node-test coverage of user_groups.js.
dafaf28 user-groups: Update user_group_name_dict, when name/description is edited.
5c1858e webhooks/taiga: Update text to conform to the new style guide.
f89b3fd webhooks/heroku: Update text to conform to new style guide.
d4360e2 uploads: Make django-sendfile to force downloading attachments.
8f4523e compose typeahead: Add all public streams including unsubscribed streams.
342ec0a drafts: Add tests for draft formatting and sorting.
5a9b1f8 drafts: Fix same day's timestamp when language is other than english.
7aeae68 compose: Remove draft older than 30 days.
40958e0 emoji: Switch to 64px 256 color indexed sprite sheets.
81a1612 user-groups: Fix reordering when name/description is edited.
bea9b6a user_groups: Fix real-time sync of user groups.
efffc07 stream settings: Don't show add-subs-btn if user can't add subscribers.
6226a48 tests: Use iago user in case of admin in `attempt_unsubscribe_of_principal`.
4d55dc9 alerts: Fix z-index of alert panels to be above settings.
cad422f webhooks/travis: Update text to conform to doc style guide.
71619f7 webhooks/insping: Update text to conform to style guide.
5fdb066 webhooks/zapier: Update text to conform to doc style guide.
0a39615 webhooks/ifttt: Update text to conform to doc style guide.
1a3ae8a stream settings: Fix inadvertently merged broken whitespace.
93ee0aa stream settings: Allow realm admins to remove others from any stream.
2031118 stream settings: Allow realm admins to access all private stream subs.
37f9d5c stream settings: Allow realm admins to update any stream name & description.
1ff653c search refactor: Extract `limit_query_to_range`.
74a4a69 search refactor: Move code that increments num_after/num_before.
63c2170 search refactor: Tighten up before/after logic.
129faa2 search refactor: Avoid `message_id >= 0` in queries.
e232a0b search refactor: Streamline queries for caught-up users.
e77350d search refactor: Replace confusing `!= 0` idiom in search code.
988f286 search: Add test coverage for corner cases.
43ff4ea tools: Ensure mypy is run on .pyi files.
3b8c2e4 user settings: Fix user avatar not updated in settings page.
5eccb9f components: Add ":focus" styles to button classes.
40316ed components: Make "sea-green" button darker.
1cb06cb organization-settings: Fix organization description textarea style.
c7b560c docs: Clarify documentation of remote development environment.
4631a2b Set REALM_HOSTS based on EXTERNAL_HOST if it is available.
b22e8dc lint: Replace 'return undefined;' with 'return;'.
7ce139a user docs: Remove view-messages-containing-files-or-links.
a94325d user docs: Move private message information to view-your-pms-and-group-pms.
ffa629b user docs: Merge view-messages-from-a-stream and view-messages-from-a-topic.
e53f334 user docs: Merge add and remove someone from a stream.
835ac3d user docs: Split label for change-the-privacy-of-a-stream.
7912a11 user docs: Add 'or archive' to label of delete-a-stream.
502264f user docs: Merge user restrictions on email address and name.
e396897 user docs: Merge docs for organization name, avatar, and description.
9b30fc9 user docs: Add reference to notify-everyone-on-a-stream to notifications.
d85a556 user docs: Marge audible-notifications into desktop-notifications.
4ae1418 popovers: Rename confusing my_email to user_popover_email.
29c6d23 user profiles: Add copy-to-clipboard btn for long emails.
413ea99 email tooltip: Adjust background color of email toolip in dark-mode.
8866c23 test-backend: Enforce 100% test coverage on models.py.
c63b898 models: Delete legacy convert_bot_to_outgoing_webhook.
9bd535f models: Delete unused UserProfile.is_service_bot.
1b744c5 models: Add nocoverage for a couple presence code paths.
c261475 models: Add comments explaining weird presence conditional.
d6213c3 models: Delete unused function get_realm_outgoing_webhook_services_name.
5f3fa2c models: Don't require test coverage for clear_database.
ee2b8bf linter: Require Py3 function annotations, with some exceptions.
9e1dbde mypy: Final small migrations to python3.5 annotations in many files.
34db2e5 mypy: Migrate templatetags/minified_js.py to python3.5 annotations.
88b3abb mypy: Migrate templatetags/app_filters.py to python3.5 annotations.
aa48929 mypy: Minor zthumbor annotation changes.
2103366 mypy: Migrate lib/bugdown/__init__.py to python3.5 annotations.
bb1585b mypy: Migrate lib/debug.py to python3.5 annotations.
6b9671c mypy: Migrate views/storage.py to python3.5 type annotations.
6bda59f mypy: Almost migrate views/streams.py to python3.5 annotations.
3710252 portico: Prevent Firefox from bfcaching the page.
3da2a1e admin: Add a realm setting to disallow signups using disposable emails.
a44255e emails: Add backend for disallowing disposable email addresses.
41f8618 email: Use PyPi module for disposable email providers list.
dc60b3a compose: Don't clear compose box on narrow if it matches compose.
25d9731 custom profiles: Fix totally broken events.py logic.
ef92fcb topic history: Fix fetching topic history of public streams.
9e52a9f webhooks/flock: Add flock integration.
6d8b6bd custom profiles: Fix missing mypy annotations.
56b1239 populate_db: Include some initial data for custom profile fields.
02b8453 custom profiles: Send custom profile data to frontend.
6d64fd6 custom profile data: Provide a clear print statement.
e41067a emoji: Refactor bugdown to use only active realm emojis.
089fede commands: Delete 'realm_emoji' management command.
52e5b78 models: Change text representation for realm emoji.
e3c09e0 settings: Prevent multiple requests while adding custom emoji.
158f0f3 stream settings: Fix display of stream subscribers count.
b6408a0 stream settings: Fix sub-unsub btn not showing on private stream creation.
ff6d83b stream settings: Fix subscribers not showing on private stream creation.
728cd04 check-capitalization: Check for banned words.
e322c21 mypy: Remove need for cast by using ConcreteQueueWorker TypeVar.
cb8d574 mypy: Replace Any by Type[QueueProcessingWorker] in queue_processors.py.
fed5166 mypy: Migrate queue_processors.py to python3 syntax.
6e048c5 copy_and_paste: Enable copy-paste handler in production.
f876fd1 streams page: Show weekly stream traffic.
8d188f5 bugdown: Clarify walk_tree_with_family via ElementPair NamedTuple.
aa465a6 requirements: Upgrade mypy to 0.570.
d4cfab4 mypy: Use cast in walk_tree_with_family to access inside opaque Element.
6fc4d5b mypy: Correct annotations in queue_processors.py.
87f1516 subs: Harden subscriber count code path against bugs.
12db219 stream settings: Fix subscriber counts when creating invite-only streams.
ddef398 subs: Reverse conditional for rerender_subscribers_count.
a0d33fa subs: Use sub_for_stream_row helper more consistently.
e50cedf stream settings: Remove stream from subscribed list immediately on unsub.
32407b4 stream settings: Hide stream members immediately on unsub, if can't access.
920afb9 notifications: Fix missing mypy annotations.
ee87c14 settings: If message content disabled, flush all missed emails informations.
dfbe1e4 notifications: Improve "why you were away" content lines.
c94b21e settings: Add setting to disable message content in missed message emails.
382ac24 create stream: Fix real time sync bug in private stream creation.
7cc675c create stream: On stream create event, add sub to stream lists.
2a7e365 tests: Fix mock setup for update_calculated_fields.
9183d59 create stream: Restrict non-admin to create stream without subscribing.
b8fd24b stream_create: Clear errors when re-submitting form.
e9e6b12 create stream: Don't allow creating stream with zero subscribers.
c3a289b create stream: Add div element indicating stream creation result.
3280135 stream settings: Update subscription count on subscription event.
c590449 stream_data: Move calls to update_calculated_fields to events layer.
cc2eb60 stream settings: Fix error in rendering stream members in UI.
7778417 stream settings: Hide stream membership part, if can't access subs.
c1f9b04 stream settings: Don't show never subscribed private stream's preview-link.
54e5648 auth: Retain email value if login fails.
0e8cadf compose: Move "Sending..." to appear to the right of "Drafts".
51dc46b node: Fix test failures due to missing import.
616a06e Use msg_list.fetch_status instead of load_enabled.
1e446fc refactor: Call message_scroll.hide_indicators() directly.
fef2840 Add FetchStatus class.
ec30514 Extract message_fetch.load_messages_for_narrow().
22162a0 Remove unused cont_will_add_messages flag.
cd48236 electron_bridge: Send unread count to electron app on update.
5aa8629 reactions: Migrate `emoji_code` to store `id` for realm emoji.
b2cadf6 Revert "Fix clipping of stream and topic name in left sidebar"
e5fb096 help: Rename signing-out.md to logging-out.md.
cbadecb emails: Replace signing in with logging in.
e7005cf help: Replace signin with login in zulip-on-android.md.
ff3a8f2 help: Rename signing-in.md to logging-in.md.
8da2820 help: Replace signin with login in signing-in.md.
0d313aa templates: Replace sign in with log in in register and login page.
3b92f61 hotkey: Add 'delete' to delete focused draft.
f3413d3 org settings: Fix confusing label for custom emoji settings.
7fdf5e6 org settings: Remove redundant `create-stream-dropdown` class.
777b6de org settings: Add setting to prevent users from adding bots.
7c830c5 webhooks/beeminder: Mock time.time() to avoid race.
713ca1e yarn: Update yarn.lock for moment and moment-timezone upgrade.
7bbdf79 Rename functions to show_loading_older/hide_loading_older.
389421d Rename reset_load_more_status to reset_for_new_narrow.
ae84908 Rename load_more_messages to maybe_load_older_messages.
68d3441 Rename load_old_messages to load_messages.
077475c compose: Don't warn if mentioned stream members form a superset.
617aea7 Fix clipping of stream and topic name in left sidebar
a598bef pills: Show data-some-recipients placeholder text only on focus.
c035acc pills: Show data-no-recipients text only if no recipients selected.
e1ab6ce docs: Clarify description by changing 'disrupting' to 'disturbing'.
649e76e Display error when creating embedded bot with incorrect config data.
194b2fd Upgrade the zulip_bots dependency to python-zulip-api:192e9e1.
35c7428 frontend: Add create-bot loading indicator.
47f3af9 refactor: Extract constants in message_fetch.js.
5717735 minor: Use message_viewport.at_top() in scroll_finished.
b8f39b2 refactor: Early-exit in message_scroll.scroll_finished.
8063f73 Extract message_scroll.js.
7819319 minor: Remove unused `ui.have_scrolled_away_from_top`.
254548d package.json: Upgrade moment-timezone to 0.5.14.
8d8c102 package.json: Upgrade moment to 2.21.0.
fa8525c webhooks/hellosign: Update text to conform to doc style guide.
f3590dc webhooks/gosquared: Update text to conform to doc style guide.
12396dd webhooks/gogs: Update text to conform to doc style guide.
88a1980 webhooks/gitlab: Update text to conform to doc style guide.
f7a21b1 webhooks/github_webhook: Update text to conform to doc style guide.
b6fc33e webhooks/gci: Update text to conform to doc style guide.
fa1583b webhooks/dropbox: Update text to conform to doc style guide.
4f039e4 webhooks/delighted: Update text to conform to doc style guide.
18c6cd9 webhooks/codeship: Update text to conform to doc style guide.
1c44a9c webhooks/bitbucket2: Update text to conform to doc style guide.
f551f3a webhooks/beanstalk: Update text to conform to doc style guide.
9de9064 webhooks/basecamp: Update text to conform to doc style guide.
7ee7d4a webhooks/appfollow: Update text to conform to doc style guide.
a78024f bots: Delete bot from bot_data set on realm_bot delete event.
32e38d3 bots: Send add/delete event on bot ownership change.
d437488 slack importer: Clear 'output_dir' at the beginning of test.
a0ab87b notifications: Clean and automate global notifications update handler.
c0f5ac8 team: Fix ugly line-wrapping when showing total.
6bed6cc team page: Remove duplicate contribution counts.
c3964df i18n: Fix a last few strings mentioning realms.
c47403b i18n: Fix message-send error messages using 'realm'.
798fbb6 i18n: Rename 'Closed Realm' to 'Private organization'.
e2a6541 i18n: Fix use of 'realm administrator' in translated strings.
8fba40f emoji: Clean up strings for emoji errors.
342d8cd i18n: Fix use of realm to refer to an organization.
158697c dev environment: Properly close triple quotes in fixture messages.
3186b09 i18n: Remove unnecessary string.
fb3293a node tests: Add tests for input_pill.js.
3e76d52 node tests: Add tests for user_pill.js.
60f08b0 reload: Handle errors with compose_actions.start().
c7ad2a5 minor: Simplify declaration for reload.initialize().
3a1bf04 compose: Add pills for typing in PM recipients.
1aba722 user_pill: Add Zephyr logic.
f0d101e pills: Streamline input pills (for user groups).
0d29864 setting: De-duplicate logic for bulk-updating notifications settings.
2782a5d settings: Update notification settings to new feedback style.
b55f881 settings: Split notification_settings into a few sub-variables.
cd84fde apps: Update desktop app to latest release v1.8.2.
0d78882 slack importer: realm_id cleanup.
7878cc5 slack importer: Cleanup build_subscription.
f947194 slack importer: Cleanup build_avatar.
5efe05d slack importer: Cleanup build_zerver_usermessage.
b358fb2 org settings: Hide table-list-data until page gets load.
f46d925 org settings: Fix issue, loading spinners are not visible.
a581254 settings: Fix real-time sync with notifications settings.
e022b9e install docs: Cut SSL cert from requirements summary.
d99ec64 install docs: Move requirements tl;dr to requirements doc.
1215245 install: Check for a supported OS release.
c1d5364 install docs: Consolidate follow-up steps.
526e301 install docs: Tighten "create organization" step.
4edc121 install docs: Move background details to after main flow too.
53f8033 install docs: Consolidate troubleshooting at bottom.
0505036 install docs: Reduce prose in requirements bullets.
678fcef install: Fix up success message in `--no-init-db` case.
f22712e install: Go straight through by default.
b1ad4e8 install: Switch some more uses of `sudo` to `su`.
eb7eef0 install: Suppress initialize-database instructions when redundant.
8111848 test-install: Do a dist-upgrade in prepare-base.
96c5bf5 user docs: Move make-an-announcement to notify-everyone-on-a-stream.
05e18ef user docs: Merge two private message docs and mention shortcut.
6c4eef1 slack importer: Sort messages in the order of their dates.
c2d4b49 slack importer: Use precomputed value in 'channel_message_to_zerver_message'.
3e4086d slack importer: Use precomputed value in 'get_total_messages_and_usermessages'.
10c73ae slack importer: Add function to precompute all the messages.
59b8f85 bugdown: Do only image preview if relative URL.
5536345 beeminder: Mostly eliminate nondeterministic failures in test suite.
d98be2f puppet: Only run analytics Nagios checks on machine running cron.
8e8faab puppet: Move clearsessions cron job to app_frontend_once.
9a74ef5 puppet: Move some cron jobs to app_frontend_once.pp.
3ae645e puppet: Rename analytics.pp to app_frontend_once.pp.
ad7f38a puppet: Move analytics cron job to analytics.pp.
24b6106 puppet: Dsiable checking for evictions in memcached nagios.
11b31b3 requirements: Update uwsgi to the latest version.
5e251e5 compose: Improve line wrapping for multiline compose box alerts.
f0f6bdf compose: Improve error message for mentioning unsubcribed users.
769052d css: Allow the bot API key to be selected on all browsers.
12c4a82 webhooks/crashlytics: Update the text.
53ccbdc webhooks/dropbox: Update text and remove screenshots.
a059247 message editing: Fix bugs in `recipient-row` template rendering.
eb67c46 message editing: Move update msg-topic-edit-icon func to `message_edit.js`.
a4366d9 message editing: Clean update msg-topic-edit-icon function.
d360a70 static/js/settings_org.js: Rename func which updates msg-topic-edit-pencil.
06cabc1 popovers: Fix issue with user-info-popover in legacy mention messages.
baffcf0 Fix: broken link zulip/zulipbot
3fb8625 upload: Fix upload under message edit mode when edited using hotkeys.
5ee6c60 message edit: Allow uploading files.
787d5c5 upload: Inline clear_out_file_list.
f253f96 lint: Add "Gravatar" to capitalized terms in linter.
f531d37 Reorder "create bot UI" for embedded bots.
a615b21 signup: Wrap hostname overflow with scrolling in realm creation form.
3d8e45f cache: Avoid caching /help/ documentation page content.
4d2c6ef help: Correct broken link and clarify email gateway integration.
416f110 user settings: Display avatar source.
9eeb1c5 bugdown: Remove email from rendered content of messages with mentions.
d36ec96 deactivation-stream-modal: Make stream name a template variable.
8ba91e4 stream settings: Add delete stream button.
077e56e static/js/settings_streams.js: Refactor delete stream method.
14f1f10 display_settings: Mark night mode as no longer experimental.
fb34081 display_settings: Fix pencil being lost updating default language.
9acf30b display_settings: Fix real-time sync of default language.
c9724fe display_settings: Clean up and mark real-time sync issues.
c672a1c settings: Fix real-time sync for display settings.
cec3430 settings_ui: Move main function for new settings system to library code.
4d8e18e settings: Move display_checkmark to settings_ui.js.
6a06e45 display_settings: Extend de-duplication of unnecessary logic.
7dbd515 settings: De-duplicate code for managing display settings.
5aa7098 display_settings: Change success/failure feedback interface.
b846ab1 settings: Change wordings of all alert-status in Display settings.
a3ca7ee lint: Add a few strings to capitalization linter.
bb83486 i18n: Keep URLs from being translated.
b475e74 i18n: Fix string interpolation.
c8ad1cf settings: Improve warning in signup notifications.
48709b4 i18n: Add new terms to the Spanish translation guide.
777df12 help: Hide y-scrollbar on collapsed sidebar view.
bdb86f1 emoji: Add support for translating emoticons.
038579b streams: Fix counts using only one data point.
8cd3e55 default stream: Fix default stream suggestion do not include private stream.
81ba7a1 Mark DigestWorker and PushNotificationsWorker as nocoverage.
93b2f0e Mark MissedMessageSendingWorker as nocoverage.
e69af30 Add basic test for FeedbackBot.
4381ce7 EmbeddedBotWorker: Remove @-mention check.
c7650c0 streams: send data for recent streams traffic to frontend.
385ee95 streams: Show subscriber count icon before count.
b5a860b analytics: Populate messages_in_stream:is_bot:day in dev.
bfcfe84 compose: Append space when text added at the end of textarea.
4c7dd97 embedded bots: Dispatch all config data on update event.
e15a22d message-editing: Topic_data.remove_message on delete_message dispatch.
530e098 node: Remove 100% coverage requirement for user groups.
aed8cc9 user_groups: Handle add/remove members events.
0147826 user_groups: Convert members to a dict in frontend.
3a14317 user_groups: Move meta.loaded check to actual exported interface.
7f144b9 setup-non-vagrant: Document how to setup zulip dev env on cloud9.
75ce126 webhooks/github: Log payloads that aren't handled properly.
5af55d7 requirements: Upgrade to virtualenv-clone 0.3.0.
59cf670 settings: Add generic func to disable settings elements in UI.
f5a24ef static/js: Add `settings_ui.js` file for common settings UI functions.
eb7a744 docs: Extend troubleshooting guide to cover MacOS High Sierra issue.
59581f6 tools/lint: Require a space after every `:` in JSON files.
50a6672 json: Ensure consistent formatting in api/fixtures.json.
393b9ee api_docs: Move get-events-from-queue fixture to fixtures.json.
13664f1 uploads: Convert CMYK to RGB when saving avatar/realm icon as png.
92ba40b settings: Use .attr() properly for disabling name/email change.
72a3115 settings: Move name/email change display commits to correct file.
9fe0f81 settings: Simplify is_admin logic for name changes.
4e32b5d settings: Rename functions for updating email/name change UI.
63db3e0 settings: Fix erroneous meta.loaded check for name/email change.
9b8c541 settings: Set state of name/email change fields from data.
ce46cd9 settings: Allow admin to change email/name even if it is disabled in realm.
f0d651f invites: Only admins should be able to create multiuse invites.
5069683 decorators: Refactor the webhook_logger code.
335c383 lint: Add some excludes to capitalization linter.
895b564 commit-message-list: Don't print anything if no commits.
ea7ce7e api docs: Ensure consistent formatting for arguments.json.
ce56ee8 api_docs: Document the `POST /api/v1/user_uploads` endpoint.
50d8a24 styling: Fix red styling for message edit close button.
0dde559 Uniform color styling for all 'Cancel' buttons.
14764d0 settings: Tag cookie bot placeholder short name for translation.
e18537d emoji: Add a translation tag for new_emoji placeholder.
9c4b0cc lint: Clean up translation tag lint for filter settings.
f9210ba lint: Add a translation tag for marketing.
5777582 lint: Tighten placeholder lint rule to exclude links.
5ccd3aa i18n: Run process-mobile-i18n when syncing translations.
66e5434 i18n: Update translations data from transifex.
56e5426 api: Create api for creating multiuse invites.
5086ba8 push_notification: Update comment for unregister.
8a8b0dd code-search: Add comments to help grepping.
483876f typeahead: Remove check for impossible case.
ff197b2 help: Advertise custom linkification filters better.
3be0b3d mypy: Fix errors in linter.
8722c75 onboarding: Add bouncing ? next to hotspots.
6a07897 slack importer: Fetch and save the avatars.
0f18398 Import script: Make sure medium avatars exist during import.
7076a49 slack importer: Pass avatar data through the import script.
30b9d35 slack importer: Add helper functions to get user avatars.
95df845 slack importer: Remove function 'get_user_avatar_source'.
8d00266 lint: Add a linter rule banning use of sudo in most scripts.
542f476 typeahead: Fix last word issues with latest typeahead feature.
53c57cf errors: Include request info on error mails for JSON routes too.
2692ffd user docs: Split sidebar link for change-the-privacy-of-a-stream.
63841f4 user docs: Add 'See all images in a narrow' to sidebar.
1bd56d4 user docs: Reword sidebar link for mute-a-topic and mute-a-stream.
72497d6 test-migrations: Clean up a bit.
6d35a69 antispam: Don't let new accounts in open realms immediately send invites.
5edbcb8 typeahead: Rewrite query_matches_source_attrs to be obviously correct.
245d65e compose typeahead: Don't autocomplete for suffixes followed by a space.
1338b99 casper: Avoid nesting wait statements to avoid flakes.
bd0a5d5 css-minifier: Lint for '+' operator in calc().
aae11bf setting: Fix password label is even shown when email auth is disabled.
1f52eea user docs: Document auto-numbering of ordered lists.
6b31752 user_groups: Change placeholder group to "Marketing team".
36f6ad7 admin ui: Set usergroup name input maxlength to 100.
ed4fbcf admin ui: Set usergroup description input maxlength to 300.
497ee97 models: Change description attribute of user group to textfield.
71ff8c3 django-2.0: Don't assign directly to Many-to-Many field.
e4a62aa compose: Add a function for handling validation errors.
695b3e4 frontend: Add embedded bot config data editing.
7b7f4cc bot settings: Generate embedded bot selector in handlebars.
044b0be frontend: Store embedded bot data in bot_data.js.
48b2e4e backend: Add bot config data patching.
312cabb models.py: Move two long functions with circular imports to actions.py.
ade077f backend: Add bot config data to initial state data.
fd4aa88 api: Do paragraphs within bullets with better indentation.
9284d32 docs: Improve consistency and quality of API Documentation.
d6a3890 compose: Fix clearing of existing text on replying from popovers.
dcac002 compose: Use insert_syntax_and_focus to insert text in compose textarea.
c995c1a popovers: Fix two click handler attached to (rightbar) user_popovers.
2d8c1f6 zjquery: Give clear error when handlers are not set.
5e6649b docs: change the dev login image.
8152532 urls: Use /new endpoint for creating new realm.
9198383 integrations: Add documentation for Front.
822dfc6 integrations: Add webhook code, API endpoint, and tests for Front.
c45acad integrations: Add webhook payloads for Front.
b4a6df8 portico: Fix text overflow on Zulip features page.
120ac21 bugdown: Create a constant for inline preview limit.
f24c020 dev_tools: Add invalid confirmation error page to devtools.
2e6b65a Fix styling for confirmation error links.
2787ae0 error_pages: Shrink heading font size.
d124597 org-settings: Add setting to turn off welcome emails.
71829f3 Test MessageSenderWorker with Electron as user agent.
f833880 Add tests for SignupWorker error handling.
1ba1851 QueueProcessingWorker: Test that problems get logged.
9bee64d Exclude QueueProcessingWorker.stop() from coverage test.
3294aa6 embedded bots: Test that BotHandler.initialize is called.
4475950 queue: Restore prematurely-cut upgrade path.
49252c9 docs: Fix explanation of Debian LXC installation.
f6f1236 translations: Improve Polish style guide.
ae9952c backend tests: Repurpose test_invalid_embedded_bot_service.
b780b16 test_bots.py: Split up test_create_embedded_bot.
a99cc61 test_bots.py: Create test bots with create_test_bot().
19bbc0e backend tests: Use correct bot owner in create_test_bot().
7b455f5 compose: Add spaces around markdown for attachments.
76898dd integrations: Make minor wording changes to integrations docs.
a75f0aa hotkeys: Add "p" to narrow to next unread PM thread.
68664ac requirements: Update sqlalchemy to 1.2.4.
227e5fd test_narrow: Improve group_with_with search test.
d032e1a Node Unit Tests: Create test for notifications.message_is_notifiable
1516e51 webhooks/gitlab: Support both "Build Hook" and "Job Hook" events.
3bb14a8 slack importer: Change 'invite_only' mapping in streams.
a2f6f4b slack importer: Handle case where messages have no users.
15a6f62 slack importer: Refactor defaultstream handling.
710f5f7 auth: Add support for mobile_flow_otp for RemoteUserBackend.
34efab9 auth: Report to mobile apps the availability of RemoteUserBackend.
cab3c8c populate_db: Spread message timestamps over a few days.
db88634 docs: Better document how Debian LXC installation works.
fbbdc01 webhooks/gitlab: Replace "Build Hook" with "Job Hook".
6ddc0b7 webhook_md_macros: Stop using transition words.
096c0b6 webhooks/basecamp: Update text and remove screenshots.
3b75980 webhooks/appfollow: Update text and remove screenshot.
ed34542 webhooks/airbrake: Combine instructions into 4 steps.
4d410a5 webhooks/gci: Update text.
9667594 webhook/delighted: Update text and remove screenshot.
e139d29 webhooks/codeship: Update text and remove screenshots.
0d39b05 webhooks/beanstalk: Update text and remove screenshots.
df4c645 integrations: Make sure settings.EXTERNAL_URI_SCHEME renders.
e94efe5 markdown macros: Add create-a-bot-indented macro.
bd787c1 webhooks/bitbucket2: Update text and remove screenshots.
2f99e6b settings: Add loading indicator for account deactivation.
65767e5 localhost_sso: Fix missing enabling of mod_wsgi.
f50e325 RealmAuditLog: Fill subscription events with event_last_message_id=None.
90c89dc copy_and_paste: Fix quirks with some parts of toMarkdown.
db1e090 django-auth-ldap: Bump version to 1.3.0.
7ad177a i18n: Flag emojiset type name string for translation.
faa3c27 test_narrow: Use a better assert for easier debugging.
c8f034e queue: Remove missedmessage_email_senders code.
7d3b41b requirements: Upgrade psycopg2 to 2.7.3.4.
b17d4e1 popovers: Show hotkey reminder for sender info popovers only.
cf203db emoji: Remove now unused `emojis_name_to_css_class` dict.
31baf25 emoji picker: Change the delimiter used in `emoji_id`.
87a5cd3 org settings: Fix bug of reloading page on Enter in active user setting.
105093e org settings: Fix bug in edit user-name-form in active user setting.
4119eb3 org settings: Display error message on top of active user setting page.
dc2b505 org settings: Fix bug in error reporting on active users setting.
d17bdf1 portico: Highlight active page's title in navbar on why-zulip page.
e98dd63 fixtures: Update description in zerver_realm_skeleton.json.
8160244 fixtures: Remove unnecessary field from zerver_realm_skeleton.json
aff9099 slack importer: Get domain name from settings.EXTERNAL_HOST.
a6e5a5f user docs: Fix double scrollbar on navigation on /help.
f6d267e slack importer: Change 'total_users' to 'total_channels'.
d226397 auth: Redirect to an error page instead of 500.
96036f0 api_code_example: Use json instead of ujson; specify separators.
e80609a api docs: Test sample fixture for invalid stream name error.
9add5bf api/delete-queue: Test fixture for BAD_EVENT_QUEUE_ID error.
a081897 api/create-user: Test fixture for "email already in use" error.
be0a04f api docs: Test sample fixtures for unauthorized_errors_fatal.
8064761 api/add-subscriptions: Test fixture for "already_subscribed".
06bf47d api docs: Test sample fixture for user not authorized error.
124c672 api docs: Test sample fixture for message edit permission error.
1c32163 api docs: Test sample fixture for missing request args error.
d1a5bbc api docs: Test sample fixture for invalid PM recipient error.
93b44a4 api docs: Test sample fixture for nonexistent stream error.
4d54515 input-pill: Add copy override functionality for input pills.
bee0fa4 input-pill: Disable input of commas with invalid pills.
4cd25fb input-pill: Add multiple pill support with pasting.
6479f32 dependencies: Downgrade pika to avoid constantly logged errors.
b141786 create-thumbor-venv: Specify python 2.7 use for production thumbor venv.
dedef11 thumbor: Upgrade thumbor to v6.4.1.
a1408a9 mypy: Remove unnecessary use of typing.Text.
b0c0648 clean-venv-cache: Handle cleaning up zulip-thumbor-venv properly.
9dba134 markdown: Do not use CMD+CTRL on macOS.
1f6ddf0 refactor: Extract transmit.js from compose.js.
80ff3d8 frontend: Reduce opacity of hotkey hints.
0e17d77 frontend: Replace collapse hotkey (-) with em-dash (–) for readability.
4a92ed4 test_signup: Remove accidentally merged print statements.
61aaf06 tests: Fix hard coded "Over 80 native integrations".
1a1bc84 subdomain: Check for invalid characters before length.
6664c76 signup: Remove old frontend validation of subdomain.
d34dd4c signup: Show subdomain availability during signup.
70a41cc tools/tests: Use Python 3 syntax for typing.
da65e1d drafts: Sort drafts by last modified.
804a5f3 drafts: Add timestamps showing when last modified.
be9dbcc settings: Link to documentation on changing settings.
c732313 docs: Rename customize.html to settings.html.
03624b7 webhooks: Add Facebook integration.
65eeda7 vagrant: Replace guest motd with a custom Zulip motd.
354d552 mypy: Add two mypy-pacifying asserts in upload & bugdown tests.
15b16c2 mypy: Add assertions to test_bots.py to satisfy mypy.
3a301ac mypy: Annotate upload_quota_gb as Optional.
3e98e77 mypy: Amend typing of storage parameter to update_storage to be non-Optional.
2176f47 mypy: Rewrite conditional to clarify message-sending defer_until code.
4efb83e mypy: Amend logic in check_upload_within_quota to avoid None.
435bfb3 mypy: Amend annotation of get_emoji.
c7724c6 minor: Fix typos in hashchange comments.
ffb7a37 minor: Make relative link tests slightly more realistic.
a474af8 Use newer stream urls in missed message emails.
46a4977 Add stream ids to urls for stream-related narrows.
b702bbe slack importer: Allocate ids in a single db query.
5dfacfc slack importer: Change 'allocate_ids' to return a list of ids.
25e78ab group popovers: Fix entire vertical scrollbar motion on overflow.
1192111 group popovers: Refactor setting up scrollbar.
9feae47 org settings: Add button to deactivate organization.
2733c05 docs: Add  VT-X unavailability error
dea7d1d profile menu: Show profile-edit option when a user clicks on self-profile.
693a9a5 push notifs: For group PMs, identify the users in the group.
4103996 org-settings: Fix styling of Allowed Domains modal.
e8fffe2 portico: Make /features responsive.
786bda6 popovers: Add a popover for group mentions.
bc21344 popovers: Fix memory leak with old popovers.
9802264 message-editing: Mark message as read before deleting it.
1dbab64 landing-page: Change "Help Center" => "Why Zulip".
d30a6c6 Revert "Make recipient bar styling more compact and clean."
a32e1eb markdown: Require double-asterisk around all mentions.
55feafb unread_ops: Add a quick comment explaining an interface.
424c887 Vagrantfile: Test directly for `lxc-ls`.
718b3fc Vagrantfile: Check for OS before patching the lxc-config.
b12a5a2 stream settings: Use a bulk query when changing all streams.
152da74 typeahead: Fix typeahead ordering for user group mentions.
6206647 bugdown/api_code_examples: Add support for multiple languages.
73a1f8a api docs: Add comment about why the event queue example isn't tested.
a4b6862 api: Return anchor in get_messages when use_first_unread_anchor=True.
bb5c44a github: Suggest GIFs too in PR template.
f215fbe dark-mode: Show dark background in popover while avatar loads.
a46e21e bankruptcy: Add UI widget to mark all messages as read.
395d476 portico: Temporarily fix CSS compilation bug with `calc` property.
b3d37b5 sendfile: Clean up sendfile settings code.
efe8545 local-uploads: Start running authentication checks on file requests.
6fce1d7 template_parser: Add parsing support for self closing tags as per HTML5.
271cfd4 translation: Try the new `err_` marking on a handful of messages.
76cc6d8 translation: Add configuration for a `zulip-test` Transifex project.
b0b0777 translation: Make new tagmessages script a bit easier to run.
c4285ef gitignore: Ignore a Transifex secrets file.
ebf7942 translation: Add script to tag strings in Transifex.
b9c6cd1 translation: Mark error strings in django.po files.
8d98ce1 errors: Note upstream fix for that Django DisallowedHost bug.
e68b45d lxc: Fix lxc-config file from vagrant-lxc for LXC 2.1.0.
6424b3c github: Add a short template for pull requests.
2102d96 version: Bump version to facilitate dependency upgrade.
a1db814 requirements: Upgrade python-digital-ocean to 1.13.2.
caaa7d1 requirements: Upgrade ndg-httpsclient to 0.4.4.
18436c1 requirements: Upgrade google-api-python-client to 1.6.5.
f93f197 requirements: Upgrade certifi to 2018.1.18.
026d835 requirements: Upgrade twilio to two.
88e73c9 requirements: Upgrade transifex-client to 0.12.5.
adac6c0 requirements: Upgrade tornado to 4.5.3.
9effe27 requirements: Upgrade typing to 3.6.4.
3f3f876 requirements: Upgrade stripe to 1.77.2.
416338c requirements: Upgrade Sphinx to 1.7.0.
351f780 requirements: Upgrade Scrapy to 1.5.0.
48f93a7 requirements: Upgrade pytz to 2018.3.
0aa6f00 requirements: Upgrade pyasn1 to pyasn1-modules.
f1098a7 requirements: Upgrade polib to 1.1.0.
ab76958 requirements: Upgrade pip-tools to 1.11.0.
2b081f8 requirements: Upgrade Pillow to 5.0.0.
0e2058a requirements: Upgrade pika to 0.11.2.
31abe1a requirements: Upgrade moto to 1.2.0.
3780b8c requirements: Upgrade Markdown to 2.6.11.
6ca3f72 requirements: Upgrade lxml to 4.1.1.
617549f requirements: Upgrade Jinja2 to 2.10.
151702d requirements: Upgrade isort to 4.3.4.
51577b7 requirements: Upgrade html2text to 2018.1.9.
66e34be requirements: Upgrade gitlint to 0.9.0.
449c1d5 requirements: Upgrade django-two-factor-auth to 1.7.0.
2b0099f requirements: Upgrade django-pipeline to 1.6.14.
7a8b174 requirements: Upgrade cryptography to 2.1.4.
1b8ca55 requirements: Upgrade cffi to 1.11.4.
d8eb4a1 requirements: Upgrade Babel to 2.5.3.
9b93e8c requirements: Upgrade argon2-cffi to 18.1.0.
995138d settings: Allow uploading same image as avatar after deleting.
118dfb9 hotkey: Document message_view_only with a comment.
dcda633 help: Fix scroll position when reloading browser window with hash.
d48664f help: Fix links with query selector from left sidebar.
ced9cba hotspots: Fix resizing of ``Got It!`` box.
08efd78 integrations: Update text for bitbucket2 doc.
7697adf integrations: Update text for appfollow doc.
80a0976 integrations: Update text for basecamp doc.
de3d478 integrations: Update text for airbrake doc.
9449556 integrations: Add missing instruction to create-a-bot docs macros.
be3d43b lint: Add linter rule banning $.get and friends.
a19a69b embedded bots: Log warning when bot quit()s.
6638c12 upload: Extract feature_check helper function.
8836161 upload: Refactor file upload code path to use more variables.
9de7a69 upload: Move compose initialization back to compose module.
7af769a upload: Extract upload.options structure.
7bfd22a mypy: Give types to some kwargs in makemessages.
756af75 REQ: Add type parameter to act as hint for typing.
f184249 mypy: Clarify valid types in tornado views via new variable.
ec829ea mypy: Add 2 Optional[StreamTopicTarget] annotations in actions.py.
79582a5 mypy: Move assertion into similar branch in get_recipient_info.
2ed1ab4 mypy: Amend topic REQ parameters in helloworld/mention webhooks.
b8f8180 mypy: Annotate existing_user_profile in accounts_register().
3cb1223 mypy: Annotate email_gateway_bot in export_files_from_s3().
bed56b2 mypy: Add clarifying variable in add_new_user.py.
16b939a REQ: Ensure only initial parameter is positional & adjust views/messages.py.
b0126ca mypy: Amend diff_strings to return str or raise DiffException.
23cc7e1 mypy: Allow acting_user of do_change_full_name() to be None.
a88c083 mypy: Annotate user variable in ZulipPasswordResetForm.save.
c6ce6dd settings: Try to clarify how AUTH_LDAP_USER_ATTR_MAP works.
81f18bd actions: Create do_create_multiuse_invite_link function.
03e4026 bots: Check bot owner for deactivated users and bots.
adfc905 bots: Handle exception on changing bot owner to invalid user.
e1f9439 lint: Allow revert commit messages in gitlint.
ddf83f6 docs: Update dead references to puppet/zulip_internal.
0db9f55 Update versions for Vagrant and VirtualBox.
ec3e0ca right-sidebar: Enable up and down arrow keys.
b489ccc left-sidebar: Enable up and down arrow keys.
35969ed deps: Replace libz-dev with zlib1g-dev since the former was renamed.
d5736ef provision.py: Remove duplicate install candidated from APT_DEPENDENCIES.
a137ed9 thumbor: Fix issue with dependencies.
ecbc72b push notifs: Add a diagnostic in API of whether push notifs enabled.
cc1d64e tests: Dedupe a bit the test for server_settings.
3fba90f billing: Make several small style fixes to new tests.
bed4ca6 stripe: Add backend tests for stripe.
003cb04 stripe: Use sources.list instead of sources.all.
b9ca7bd beeminder: Clean up messy imports in tests.
3f832b9 webhooks/beeminder: Fix documentation to append email to URL.
76c56ad webhooks/beeminder: Make deadline time (time_remain) positive.
6bbce45 analytics: Fix a minor mypy error.
35cc206 Add narrow.narrow_to_next_pm_string().
13abed2 Add narrow_state.pm_string().
6ea2765 Add topic_generator.get_next_unread_pm_string().
9f8526c Add pm_conversations.recent.get_strings().
4f52e09 refactor: Extract pm_conversations.recent.
a0b58b1 activity: Add a link to copy list of realm admins.
3ebd301 slack importer: Remove depreciated test.
7925e25 mypy: Tweak a bit of syntax to avoid a mypy bug.
b374ea7 mypy: Pass --show-traceback.
8be2dfa APNs: Fix a case I broke while working out tests.
59f61c2 render_markdown_path: Use limited caching.
0eca2e1 cache: Add ignore_unhashable_lru_cache function.
91ce455 app_filters: Remove unused lru_cache import.
6badac5 docs: Add v shortcut to the lightbox article.
20c734c puppet: Fix type error in new Nagios check for analytics state.
6028e79 subs: Remove call to go to "all-streams" on stream creation.
ad4e976 streams: Have new streams list only populate once.
7f6a171 APNs: Don't try to send anything when not configured.
12d878c APNs: Drop disused setting from old implementation.
005b0fb puppet: Clean up ssh authorized_keys configuration rules.
aca25b6 puppet: Move ssh configuration to use notify.
486de8a puppet: Edit some rules to support chat.zulip.org.
1d581a9 nagios: Add nagios check for analytics state.
dcec2e3 dark-mode: Make all modals compatible with night mode.
3e1b817 bot settings: Move config item generation from js to handlebars.
c0a0e6f Set add_bot_backend() config_data param default to {}.
02bc506 bot_data.js: Fix dict indentation.
0abb031 test_events.py: Properly check the bot added event dict.
760cbcc test_events.py: Use create_test_bot().
323284e backend: Call real endpoint in create_test_bot().
33322fe bot_settings.js: Narrow config item selector.
561e0ff frontend: Delete page_params.realm_bots after first usage.
7539512 settings-bots.js: Restructure bot edit event handler.
f371c79 settings-bots.js: Fully generate bot owner list in handlebars.
f57d592 edit-outgoing-webhook-service.handlebars: Fix typo.
273f62f settings-bots.js: Remove redundant sidebar close event handler.
338bba7 edit_bot.handlebars: Extract outgoing webhook form.
1ec9932 settings_bots.js: Clean up bot edit event handler.
032cc84 settings sidebar: Extract bot edit form.
721a241 slack importer: Update doc about slack user's skype and phone data.
fbc11b1 slack importer: Add 'realm_name_in_notifications' field in zerver_userprofile.
6addf79 slack importer: Test import in existing database with fixtures.
be05bcc slack importer: optimize allocation of id range before import.
a0b7976 slack importer: Fix output_dir path and remove sys.exit(0).
699021e slack importer: Update Documentation with slack's legacy token method.
c0e3007 slack importer: Get user data from a get request to slack users api.
6e30da9 doc: Add blog link to CONTRIBUTING.
1f8b693 stream settings: Fix error in updates of stream description.
08533ba stream settings: Show message in case of no stream description.
afda05a rate limiting: Increase default rate limits.
ea0fe90 webhooks/beeminder/doc.md: Use better macros.
77addc5 bugdown: Fix handling of ultra-long renderings.
9cd7f59 recent senders: Use message ids instead of timestamps for sorting.
ebe16e0 README: Include CircleCI build status badge.
7df29e7 puppet: Only use those "modern" options when on xenial.
3853577 api tests: Add example/tests for unsubscribing other users.
ac5c355 api/delete-queue: Make fixtures/examples testable.
344cf2c api_tests: Add tests for client.register_queue.
66ca0c7 api/get-all-users: Make fixtures/examples testable.
929724e api docs: Add page for common error payloads.
037c891 webhooks/delighted: Reformat documentation steps into numbered list.
69f248a webhooks/codeship: Reformat documentation steps into numbered list.
06e86ce webhooks/bitbucket2: Reformat documentation steps into numbered list.
5e1a193 webhooks/circleci: Reformat documentation steps into numbered list.
af68380 webhooks/basecamp: Reformat documentation steps into numbered list.
ad6dae1 webhooks/appfollow: Reformat documentation steps into numbered list.
2733540 webhooks/airbrake: Reformat documentation steps into numbered list.
86590df test-install: Add command destroy-all to clean up test containers.
6e633f8 install: Use readlink -f rather than realpath.
8d86a6e install: Slightly clean up another couple of bits of style.
218b653 install: Clean up organization of option parsing.
08135e3 install: Don't try to chown a self-signed cert to zulip.
f68c485 install: Clean up some shell style: use here-docs, and compact getopt.
8f4b7f6 install: On --express, check up front for --hostname and --email.
31ec9a4 install: Implement --self-signed-cert earlier.
4c5326c test-install: Factor out booted-yet-p polling loop, use in prepare-base.
fc9970e test-install: Add xenial support.
23e6a2e puppet: Update memcached config to turn on this decade's technology.
4414f2b webhooks/beeminder: Use create-a-bot.md macro.
ab700fb markdown: Add a macro with instructions for creating a bot.
48640fd slack importer: Suppress logger output from the unit tests.
680983d vagrantfile: Workaround for the atlas.hashicorp.com redirect removal.
9249454 update-authors-json: Fix handling deleted GitHub accounts.
9e70026 settings: Slightly clarify LDAP setup docs.
5372031 api tests: Update remove-subscriptions fixture.
e82564c dark-mode: Fix bug with open graph previews.
61e4fc3 api/remove-subscriptions: Make fixtures/examples testable.
f4cb5e7 api/add-subscriptions: Make fixtures/examples testable.
09721e9 bugdown/api_code_examples: Support multiple fixtures per doc.
7ae704d api/get-all-streams: Render multiple examples from single test method.
0cca39d bugdown/api_code_examples: Support multiple examples in one test.
ffe930d bugdown/api_generate_examples: Replace 'method' with 'example'.
ccb8c79 test_docs: Fix a now-brittle test.
15eaafa Add underscores to thumbs_up and thumbs_down emoji
db152da webhooks/beeminder/doc.md: Add instructions for creating a bot.
77760d9 webhooks/beeminder: Update sample message screenshot.
1303248 integration: Add statuspage.io webhook integration.
d7903d2 pypi_packages: Upgrade to release 0.4.1.
c80802f bots: Clean up create_realm_internal_bots.
a9752c5 left-sidebar: Add back link underlines on hover, just for topics and PMs.
52c5705 left-sidebar: Strengthen global filter icons partway back.
3c1349b stream settings: Clean up a permissions message.
643074e notifications: Add test for realm_name_in_notifications setting.
83a7fd8 slack importer: Import primary owner user first.
052e3e1 slack importer: Change organization admin mappings.
b3b6023 slack importer: Always map 'is_staff' to false in user data.
756bbef Revert "settings: Check if xhr response text include ':' or not."
764cd97 test-queue-worker-reload: Increase delay to 1.3s.
9bb267a settings: Force strings to wrap in Filter settings table.
7781741 settings: Change wordings of a few notification settings.
146b833 marketing: Update integration count.
52f1c57 migrations: Fix mypy error in placeholder migration.
b875fe0 settings: Added setting to turn on and off realm name in email subject.
ecbb763 notifications: Handle an edge case in relative_to_full_url.
6f12827 migrations: Add reverser for emoji_alt_code migration.
ca1129d Revert "Streams: Disallow certain markdown characters in stream names."
44a0cd7 Revert "UserProfile: Disallow markdown character in the user profile name."
0b3a414 Revert "migrations: Replace special chars in stream & user names with space."
9a75a10 tests: Test invalid "default stream group" name.
dffedeb tests: Test bots deactivation with owner deactivation.
06f3cb2 message-feed: Add some styling to open graph previews.
c415cc7 validate_stream_message_address_info: Add i18n tags.
1a93cd4 panels: Give admins a red warning banner when email isn't configured.
fe3a566 panels: Rename "desktop_notifications_panel" => "panels".
f485abf page_params: Pass through settings.WARN_NO_EMAIL, as `warn_no_email`.
64cb05b import: Update the documentation slightly.
78e0a26 slack importer: Add documentation for Zulip default stream.
811294c slack importer: Add test for checking link in message conversion.
eb7a967 slack importer: Add unit tests.
2b11bff slack importer: Refactor script for easier unit tests.
3006f1e slack importer: Change 'restricted_to_domain' to False.
61dad07 /login/: Remove previous alerts before displaying new alerts.
68df428 portico: Add a loading indicator to login button.
16162b7 settings: Move "High contrast mode" later.
659b533 settings: Remove indent from checkboxes groups.
9a71a0f settings: Change <h3> to be smaller, bolder.
0f443c8 settings: Allow selecting 'restrict to domain' even if no domains selected.
e280e3b settings: Properly center deactivation modal.
eacdc13 portico-header: Make vertical padding equal for header.
799dc77 portico-header: Fix dropdown pill to be centered.
70d203c install: Add experimental option to go straight through more install steps.
12e08a4 test_management_commands: Fix a few comments.
1d6b072 test_management_commands: Dedent with override_settings.
48791b7 create_realm: Let server admin skip confirming email.
0dceeeb create_realm: Refactor to deal ASAP with key record, not string.
f766ac6 create_realm: Reject invalid key even if no key required.
b21cc81 confirmation: Presume email valid when admin creates realm.
c932c84 confirmation: Add a field `presume_email_valid` to RealmCreationKey.
b84f222 avatars: Always include a working URL for the user's own avatar.
9161f8c zerver/lib: Remove u prefix from strings.
32f1523 zerver/worker: Remove u prefix from strings.
71e883b zerver/tornado: Remove u prefix from strings.
fae8d23 zerver/views: Remove u prefix from strings.
2b19f17 scripts: Remove u prefix from strings.
4e0fc59 docs: Remove u prefix from strings.
4ddc8ed confirmation: Remove u prefix from strings.
396a8b6 provision.py: Colorize error messages for fail condition.
0c4aa48 provision: Clean up error message for missing virtualenv.
e8a5f68 provision: Extract color codes into standard variables.
60dd3a7 Correct broken links on gsoc-ideas.md
c8d038a popovers: Fix user-mention popover errors of `@all` mention.
93e2962 settings: In ALLOWED_HOSTS example, show a list and an IP address.
12e7e25 writing-bots.md: Add fixture JSON skeleton.
7d977dd writing-bots.md: Remove obsolete bot_handler.storage disclaimer.
31a1c3e Efficiently clear typeahead when renaming a bot.
6e0f3a9 dict: Add documentation for why we have dict.js.
19acc17 markdown_help: Fix katex markdown rendering.
42c6abe portico: Fix some untranslated text on login page.
32ede6a settings: Restrict opening full name and email change overlay modal.
2a62979 settings: Remove data-dismiss property of submit-btn in password modal.
f49d9d0 hotkeys: Add '>' as a hotkey for quote and reply to message.
79e731e hello: Add links to contributor stats of chat applications.
302e106 compose: Add parentheses for correct precedence.
693ad9e dark-mode: Make .dropdown-menu links base color in dark mode.
90ffef8 dark-mode: Make deactivate self modal compatible.
535e19e dark-mode: Make change full name modal compatible.
5c335b5 dark-mode: Make change email modal compatible.
f733466 dark-mode: Make message deletion modal compatible.
b336bb7 dark-mode: Make language settings modal compatible.
ff8be1a markdown shortcuts: Set cursor position for link insertion shortcut.
dbefdad markdown shortcuts: Stop triggering italic shortcut with Ctrl+Shift+i.
b519f1c markdown shortcuts: Replace Ctrl+L with Ctrl+L+Shift for link insertion.
ef42bb2 settings: Fix real-time sync for account settings.
77fefcf settings: Change design of your-account-page in user settings.
d62cce4 settings: Move full-name-change form before password form.
7e8da54 settings: Move full name setting UI into modal.
8582e75 settings: Improve email change modal in user setting.
21cbdfd settings: Improve password change modal UI.
39604eb user settings: Add method and action in account setting ajax form.
a717ac6 gitattributes: Mark yarn.lock as "binary", i.e. suppress diffs.
e3c82fa tools/test-all: Fix small desync with CI scripts.
34f4c82 ci: Cut out commented-out versions of tools/lint calls.
eef0d2a create stream: Use English grammar for message about announcement.
2668af9 translation: Add hindi translation guide.
f64cf87 Update changelog through current master.
7079151 portico: Hide realm details when registering new realm.
957d1ee landing-page: Click anywhere to close sidebar.
9fdd6f2 integrations: Add Insping integration.
41a867e tests: Fix non-deterministic behavior.
b19d6e9 django-2.0: Pass string to reverse.
0c4066b django-2.0: Change parameter name to app_label.
0d796e6 django-2.0: Add on_delete to OneToOneField.
a446c03 plans: Move LDAP into the community support column.
53b4c79 setup_venvs.py: Enforce Python 2.7 for zulip-thumbor-venv setup.
3f75b78 travis: Disable most suites in favor of CircleCI!
badbd74 travis: Cut webhook config pointing at zulipbot.
ba7d06e circleci: Bump the Trusty image to one from the new Dockerfile.
f995ad1 circleci: Simplify Dockerfile templating a bit.
8a0b5a2 circleci: Use the joy of `os.makedirs(..., exist_ok=True)`.
1d8ce4b circleci: Upload to codecov on xenial too.
f8227dc circleci: Set working_directory to zulip.
d6ffd4d circleci: Run xenial py3.5 backend tests alongside trusty.
91506f1 circleci: Generate xenial dockerfiles along with trusty.
be328b2 circleci: Create script for generating Dockerfiles.
9798bb5 notifications: Restore a comment explaining `received_messages`.
162f34f api/get-profile: Make code examples/fixtures testable.
2bea4b7 api/create-user: Make code examples/fixtures testable.
fe98a59 bugdown/api_code_examples: Add macro for admin zuliprc lines.
73a3755 api/get-all-streams: Make code examples/fixtures testable.
dcf3a9c api/get-subscribed-streams: Make code examples/fixtures testable.
6c634d6 api/get-stream-id: Make code examples and fixtures testable.
d46753c markdown: Remove macro for successful API JSON response.
b1878f1 api/update-message: Make code examples and fixtures testable.
cf80587 api/private-message: Make code examples and fixtures testable.
f58ecee api/stream-message: Make code examples and fixtures testable.
c158869 Rename tools/lib/api_tests.py to zerver/lib/api_test_helpers.py.
a1a69a0 api/render-message: Make code examples and fixtures testable.
c89550c api docs: Add Markdown extension for generating examples/fixtures.
8147897 test-run-dev: Clean up some basic Python style.
ff8e588 test-run-dev: Delete commented-out code.
cad4083 export: Fix an unnecessary Any.
49a009e Update changelog through end of November.
f9b1295 stripe: Move error handling into stripe.py too.
0b81762 billing: Move most Stripe code to its own file.
5feb31a billing: Start pulling apart the page from the logic.
c2ceb3c EmailSendingWorker: Fix retry for sending emails.
f190888 django-2.0: Bump social auth version to 2.1.0.
9a8d224 django-2.0: Shift to resolvers from urlresolvers.
8106a25 django-2.0: Add on_delete on ForeignKeys.
8e268b5 Fix favicon generator script.
57d2d3a circleci: Upload coverage reports to codecov.io.
3b600d5 /billing/: Rename "payment.html" => "billing.html".
43a6439 upload: Enforce per-realm quota.
b698735 upload: Handle JSON errors from server generically.
d053e07 upload: Make filedrop error handling more consistent.
fe787c6 upload: Add a quota field to Realm.
035d3c5 upload: Remove UserProfile field for old per-user quota.
55cf54c upload: Remove old per-user quota feature.
0fcf0c5 thumbor: Add thumbor on port 9995 in development.
bb7d21c i18n: Make Git ignore mobile.json resources.
8b2efcb i18n: Include mobile stats in percent translated.
39645ee i18n: Check in mobile_info.json.
8700e8a i18n: Retrieve mobile translations.
53e4dc1 left sidebar: Clicking on a stream clears the stream search.
0f99610 signup: Small refactor to isolate actually sending mail.
9476a3a test-install: Give the host a direct view of the guest's /tmp/src/.
70079e0 settings: Makes selector look better in firefox.
6559237 dark-mode: Fix background color of dropdown menus.
2b1b477 org settings: Set default value on top of dropdowns.
c98d355 right-sidebar: Fix clicking between Users label and search icon.
2c3b30b landing-page: Change dropdown height to "auto" on mobile.
70b80a2 landing-page: Darken body when mobile sidebar is open.
931261f dark-mode: Make all ".modal-bg .modal-header" styles the same.
ca548e8 dark-mode: Add support for password inputs.
c714235 keyboard_shortcuts.html: Clean up to use 4 space indentation.
e2a4265 emails: Fix link to org-admin help docs.
fbd0e19 zerver/navbar.html: Clean up to use 4 space indentation.
52c4066 compose.html: Clean up to use 4 space indentation.
709ffe6 informational-overlays: Fix category duplication bug, change map to array.
c129bba informational-overlays: Move CSS => informational-overlays.css.
e5f04c5 informational-overlays: "Spacebar" => "Space".
1d3c6ee informational-overlays: Add "The basics" section to keyboard shortcuts.
87beacd check-templates: Update comments on linter.
bc76146 zerver/login.html: Clean up to use 4 space and valid indentation.
0435e1d zerver/index.html: Clean up to use 4 space indentation.
33a150b hello.html: Clean up to use 4 space indentation.
642e27d analytics/stats.html: Clean up to use 4 space indentation.
16c40ea analytics/activity.html: Clean up to use 4 space indentation.
a5c0f28 static/html/5xx.html: Clean up to use 4 space indentation.
b083c89 check-templates: Remove obsolete excludes.
8b33c46 i18n: Add script to process mobile locales.
151b3e9 language_options: Add newline at the end.
c6bfac0 language_name_map: Add newline at the end.
73f682a Slack importer: Disable often-breaking test in CI.
428134e test_docs: Test that settings.EMAIL_GATEWAY_EXAMPLE gets rendered.
dbce49a refactor: Move topic name checks to Addressee class.
b863782 portico: Add realm name, link, and icon to top of /accounts/register.
bf29614 puppet: Remove comment about period of soft deactivate users.
a11b742 messages: Calculate value of first visible message ID using cron job.
4f3f2a2 docs: Add links to the GSoC guide from CONTRIBUTING.md.
e0ffab8 emoji picker: Fix categories overflow in Firefox at 90% zoom.
b1e16d5 dark-mode: Fix text color of emoji_alt_code.
15ac79c user docs: Add user guide for enabling night mode.
3230d35 settings: Clean up EMAIL_HOST documentation a bit.
68d5471 docs: Add code-of-conduct to the main navigation tree.
e677a87 docs: Explicitly exclude gsoc-ideas from toctree.
644579c docs: Remove our forked RTD layout template.
edfa3ea docs: Use `orphan` to directly exclude pages from toctree.
a61e032 docs/contributing/mypy: Small wording fixes.
5a2b001 docs: Fix a bit of confusion over past vs. present.
da626c1 docs: ssl-certificates: 2017 is no longer the present.
4bdecb7 create_realm: Small refactor to check key just once.
6da9ece settings: Set a flag when email isn't configured, so we can warn.
08bbd7e settings: Slightly simplify EMAIL_BACKEND logic.
0ba3fc3 install: Slightly tighten up CLI parsing.
d06fd9c dark-mode: Make settings page code blocks compatible.
189832d dark-mode: Make "error" alerts compatible.
ca6ea11 dark-mode: Make "success" alerts compatible with dark mode.
2d18bad dark-mode: Make settings "tip" boxes more compatible.
0bf02e5 compose: Change "reply" button to be normal coloring.
7b78c3e message-feed: Change message edit buttons to new style.
f18307a informational-overlays: Fix <hr> to be dark mode responsive.
9ed2a94 nagios: Add configuration designed for full-stack servers.
886d102 check-templates: Remove obsolete exclude for api.html.
341279a travis/production: Update expected HTTP output.
e8fe4a6 webhooks/gitlab: Filter out hidden comments from issue descriptions.
0f836f5 generate-self-signed-cert: Fix a mostly-harmless bug.
6aa7a1b install docs: Document streamlined self-signed-cert flow.
f26b344 install --self-signed-cert: Generate our own, rather than use system's.
d76c2d7 install: Tighten an SSL-cert help message.
841a5f3 install: Say --self-signed-cert instead of --snakeoil-cert.
c27f36a install: Rename generate-self-signed-cert.
d258e48 install: Replace our generate-self-signed-certs script.
db0fe67 linter: Remove extra space in message_list_view.js.
97acdb7 ui_util: Move `place_caret_at_end` to ui_util module.
f4d5ade docs: Exclude Sphinx config file from mypy checking.
0ec50d8 reminders: Hide message menu reminder's option behind features_flag.
dd0e6c8 reminders: Fix issue with log file permissions in production.
a727f22 lint: Suppress complaint about `tags` in Sphinx config.
c2b77c5 lint pyflakes: Pull out our error-suppression patterns as data.
8566eeb account-settings: Fix missing close-quote in template.
56395f4 static: Restore bundling KaTeX and zxcvbn via django-pipeline.
852af0e Revert "katex: Update the `require` path to point to the new one."
15dd940 org settings: Handle NEW_USER_BOT not being set.
2ca0fb4 user setting: Move password change flow in UI into modal.
849d63d settings: Change error for "no data" to something more friendly.
ffe3a6c settings: Remove password confirmation in modal.
2b133ee settings: When overlay modal opens, remove previous alert messages.
e7cae00 styles: Remove all dead code of m-10 style class from settings.
8a1fb5b org settings: Change add emoji permission to be dropdown.
74f3189 settings: Add styles for dropdown titles.
676d543 org settings: Change create stream permission to be dropdown.
bd9340b docs: Warn on development version of install instructions.
bffc11f docs: Add an `unreleased` tag.
d4a86c8 docs: Enable embedding fragments of ReST in our Markdown.
2bf5d00 docs: Update ETA for Let's Encrypt wildcard support.
cdd3581 docs: Link back to install step in SSL doc.
8fd9813 docs: Tweak discussion of SSL certs in prod requirements.
0cf0c51 docs: Revise description of main install step.
bcc1456 docs: Tighten sub-headings in SSL certs doc.
93b957e docs: Revise explanation of manual SSL cert install.
21d8ff1 docs: Update documentation to recommend certbot.
2365b13 puppet: Move postgres Nagios plugin to main postgres-common.
895a675 decorators: Fix email check in access_user_by_api_key case insensitive.
a2ed76c mypy: Use Python 3 syntax for typing in beanstalk/tests.py
f2b322c mypy: Use Python 3 syntax for typing in upload.py
008e250 mypy: Use Python 3 syntax for typing in test_runner.py
7ed76ee mypy: Use Python 3 type syntax in zerver/webhooks/zendesk/view.py.
c4420ba mypy: Use Python 3 type syntax in zerver/webhooks/librato/view.py.
8a0cd1a mypy: Use Python 3 type syntax in zerver/webhooks/github_webhook/view.py.
d30c246 mypy: Use Python 3 type syntax in zerver/webhooks/deskdotcom/view.py.
c6804f5 mypy: Use Python 3 type syntax in zerver/webhooks/delighted/view.py.
39fe641 mypy: Use Python 3 type syntax in zerver/webhooks/codeship/view.py.
ead63c4 mypy: Use Python 3 type syntax in zerver/models.py.
6b4f392 Slack importer: Make it transparent to user which parts aren't mapped 1-to-1.
11b549e slack importer: Add regex for mail links.
df1bb5f slack importer: Fix link regex and add test case.
5b1e9f8 slack importer: correct the implementation of unzipping slack data file.
845a8d6 slack importer: Prevent id clashes for import in an active db.
7ac7100 messages: Make checking for status message consistent with backend.
4cc8c74 frontend: Internally refer to bots by ID.
bd6fa38 frontend: Add outgoing webhook config entries to the "edit bot" menu.
9a15c4e Add bot services to page_params.
06fb868 Send an event to bot owners when a bot is created.
069ab33 docs: Add gsoc-ideas.md.
036dc53 messages: Rename last_visible_message_id to first_visible_message_id.
ff29fe0 provision: Install virtualenv on xenial too.
b762b83 stripe: Make newly added card default source.
2a59b2d install: Work around a bug in the (our) Debian package for camo.
6e7ae9a test-install: Run installer under eatmydata.
eb25928 test-install: Allow the installer to move the install tree aside.
33a0a00 production test suite: Use installer's own `--snakeoil-cert`.
b0a9117 test-install: Pre-install a few more dependencies in base image.
0e3ab4d test-install: Share the pip cache across installs.
69ba6ad test-install: Let installer handle the snakeoil cert.
cef8549 install: Add --snakeoil-cert option.
ac88f8a setup-certbot: Stop automatically "agreeing" to the LE TOS.
7b47cca test-install: Pre-install two more dependencies in base image.
525b136 install: Install curl.
07969a2 test-install: Share the tarball directory between host and container.
d7e2190 test-install: Pass options through to the installer.
de7abd8 test-install: Upgrade CLI parsing, with getopt.
7d8cd37 modals: Dynamically replace keyboard shortcuts for Mac OS.
d449fcb user docs: Dynamically replace keyboard shortcuts for Mac OS.
2691c27 stream settings: Hide create-stream-btn if user not allowed.
01510c1 all streams: Show lock-icon for subscriber count, if user can't access.
81599cf stream settings: Display warning if user can not access subscribers.
8f65de1 stream settings: Always show stream type, regardless of subscribed or not.
c22285c stream settings: Allow org admin to update settings of unsub-stream.
3189388 api docs: Show Python and JavaScript examples first.
96362e8 api docs: Move code examples farther up.
668ac28 api/sidebar.md: Move "REST API" to the bottom.
00d3f19 integrations/email: Render settings.EMAIL_GATEWAY_EXAMPLE correctly.
4168510 api/update-message: Make it render correctly in Github.
992b416 api/delete-queue: Add Python syntax highlighting.
953478a katex: Update the `require` path to point to the new one.
efbddce settings_user_groups.js: Add 100% node test coverage.
40f161c settings_user_groups.js: Remove unnecessary call to get a person.
bf5f1b5 install: Start on an LXC-based dev/test environment for the installer.
a5be1fb lightbox: Fix responsiveness issues with image description.
37c792a apps: Update desktop app to latest release.
8905744 stream settings: Add period at the end of error messages.
1324d2e reminders: Make shortcuts to setup reminder in message feed work.
7d8d7f7 reminders: Add alert message for set reminder success or failure.
0f71a7e reminders: Add UI for setting up reminders for messages in the feed.
7323218 scheduledmessage: Adjust schedule_message to accept callbacks.
76f6f7c datetimepicker: Add flatpickr lib as dependancy.
9efc1b0 reminders: Add slash command to set reminders from reminder bot.
f272ea9 scheduledmessages: Start using/expecting delivery_type as a param.
dcce8e7 scheduledmessages: Add delivery_type field to the table.
c770bda reminder_bot: Add infra for adding reminder bot to every realm.
5a794f9 compose.js: Add schedule_message() to handle scheduling of messages.
b71ed33 compose: Extract the 'Sending...' from template to be added with Js.
f46d098 schedulemessages: Add handle_deferred_message() to handle requests.
6b03e25 help: Add "Add a link preview" documentation.
ee06da9 bugdown: Linkify Bitcoin URI.
ea8f1ef tests: Re-raise exception if not import error.
8f31618 tests: Make import error tracebacks terse.
9565a53 version: Belatedly bump PROVISION_VERSION.
e68f426 docs/production: Revise doc on authentication methods.
9b7b600 user docs: Fix screenshot in TeX documentation.
7dbb4cd uploads: Remove ExceededQuotaError class.
a5e55ce bot docs: Clean up "Testing a bot's output".
6c32379 compose: Fix browser extensions interfering with compose box.
b04bb1a locale: Update translation files.
2c16c76 beeminder: Fix buggy coding tag at top of file.
a994dba tests: Give more descriptive import error.
0eda941 tests: Verify imports in test modules.
7248a33 tests: Change print_error_message to check_import_error.
f3c86c9 tests: Remove old import testing code.
c26cdee get_test_names: Update to accept ParallelTestSuite arg.
aa58e1f tests: Make import failure error messages more consistent.
13b1334 tests: Refactor error handling of import failures.
1ef2d9d billing: Simplify logging of Stripe errors.
858b9d7 billing: Log important requests to Stripe.
3d423a3 logging: Fix corrupted default format for our logfiles.
e8ceea7 billing: Send logs to a dedicated file.
3aa5529 billing: Better error message for dev on lacking Stripe credentials.
455b772 requirements: Note one requirement as needed only for zilencer.
2b6e526 zilencer: Make /billing appear without i18n prefix.
0bca028 billing: Integrate Stripe, using Stripe Checkout.
a978336 billing: Create model for customers paying with Stripe.
167a712 requirements: Include stripe in common.in.
797fa62 test auth.py: Add tests for json_fetch_api_key function.
6142a70 docs: Update architecture-overview to point to Python 3.x.
252a485 integrations: Add documentation for Groove.
e5fc49e integrations: Add documentation for Raygun.
c758636 integrations: Add webhook code, API endpoint, and tests for Raygun.
7153d20 slack importer: append Message id from the db.
58f1f0e slack importer: append Recipient id from the db.
138aba3 slack importer: Add unit tests for slack message conversions.
c86411d slack importer: Move message conversions to a new module.
c1d336f slack importer: Refactor checking for availability of realm subdomain.
a052620 api/delete-queue: Add JavaScript example.
af1290f api/get-events-from-queue: Recommend using zuliprc.
8ed0a09 api/register-queue: Recommend using zuliprc.
df00e6a api/create-user: Add JavaScript example.
0e778e1 api/get-profile: Add JavaScript example.
dd88cfa api/get-all-users: Recommend using zuliprc.
e18b9ae1 api/remove-subscriptions: Add JavaScript example.
6d92c88 api/add-subscriptions: Add JavaScript example.
4d8c20b api/get-subscribed-streams: Recommend using zuliprc.
b32bb7d api/get-stream-id: Add JavaScript example.
370d2c6 api/get-all-streams: Recommend using zuliprc.
e781a57 api/private-message: Recommend using zuliprc.
e36d61f api/update-message: Add JavaScript example.
ba98451 api/stream-message: Recommend using zuliprc.
360885f api/render-message: Add JavaScript example.
a90e99d webhooks: Add Beeminder webhook.
4cb9ede integrations: Add documentation for Opbeat.
4e2b99a integrations: Add webhook code, API endpoint, and tests for Opbeat.
b0fb7aa bugdown: Add preview for vimeo videos.
9fe284b dark-mode: Fix background color of table headers.
be21f83 settings: Normalize white boxes in settings.
e176444 user settings: Change alert words styling to match other settings forms.
457c5a7 webhooks/gci: Support 'outoftime' event.
a028097 dark-mode: Change Stream list chevrons colors to have more contrast.
56f341f dark-mode: Combine similar CSS selectors together.
8530ed0 org settings: Make button-clicking code more clear.
93d5a33 casper tests: Show the server output inline.
fa0ac8b casper tests: Always show console output from the app.
3cb6871 Improve messaging in test_server_running().
5336c03 casper tests: Use helper functions for message editing test.
7fe59d2 casper: Add heading output to message editing test.
e7546db casper: Remove dead code related to message editing.
cc8942e /team: Fetch zulip-js repository data.
b01b449 Fix a typo in prod_settings_template.py.
6403424 webhooks: Create Intercom integration and docs.
8c5e74a test_messages.py: Remove unecessary imports.
b0f501f test_helpers.py: Remove unecessary imports.
0c48f5b test_classes.py: Remove unecssary imports.
35dc203 queue_processors.py: Remove unecessary imports.
93f47fa outgoing webhooks: Rename "Base URL" to "Endpoint URL".
aeeb9d0 integrations: Handle errors in Groove payloads.
374025e settings UI: Fix settings sidebar.
a14b52e api docs: Document the `DELETE /users/me/subscriptions` endpoint.
1b3b907 delete-queue.md: Specify queue_id as a required argument.
8c723e8 api docs: Document the POST /api/v1/users endpoint.
6dbc7c5 org-settings: Fix pointers near disabled checkboxes.
842afd1 dark-mode: Make alert words compatible.
68d86b6 integrations: Add webhook payloads for rollbar.
3accf7b embedded bots UI: Fix wrong _.each argument order.
e417a99 webhooks/gitlab: Support topic parameter to specify a topic.
ec1297c schedulemessages: Add delivery system for scheduled message.
c64766e scheduledmessages: Add funcs to verify and schedule messages.
6c36cf3 scheduledmessages: Add model for the ScheduledMessage table.
26bbdc0 settings_user_groups.js: Add node tests to increase test coverage.
c209069 bugdown: Improve image inlining logic.
25b32a5 markdown: Fix backend rendering regex.
1a83b32 circleci: Skip checking links in documentation for now.
d66f081 test-documentation: Send messages to stderr, not stdout.
618beb7 test-documentation: Factor out the terminal goo for coloring messages.
f1f5b25 test-documentation: Fix whitespace for readability.
d1d8365 embedded bots: Add config data UI.
ffa7637 integrations: Add webhook code, API endpoint, and tests for Groove.
763a962 left sidebar: Remove plus icon from the stream bar.
b403897 Fix broken doc links for Python Markdown library.
ad7c823 circleci: Run frontend tests in circleci.
a0ea206 circleci: cut two TODO comments better tracked elsewhere
9a4cd54 zilencer: Add a simple management command to create a RemoteZulipServer.
2d52131 user settings: Fix live updates in email change setting.
b523fd5 user setting: Disable email field if, user not allowed to change email.
28ca52b user setting: Enhance email change modal.
88b2498 user setting: Change wording of strings in email change modal.
0a92dfd user setting: Set email change warning icon inline to email field.
9d1063d urls: Move the json/fetch_api_key endpoint to be an API-style route.
7c22045 test_decorators: Replace the json/fetch_api_key endpoint in tests.
b583f1f slack importer: Add regex for markdown mapping.
dd51f34 Slack importer: Update documentation.
a6e0bcd Slack importer: Map messages and usermessages.
24a86a5 slack importer: Quiet the unzip command.
4019a45 slack importer: Rename messages file.
400c968 slack importer: Remove unnecessary comment.
c875428 slack importer: Extract get_user_full_name() helper.
3420ed1 validator.py: Cover missing lines in check_dict().
a01f8c0 api docs: Document the POST /api/v1/users/me/subscriptions endpoint.
ae59b08 api docs: Document the GET /api/v1/users/me endpoint.
045aacb api docs: Document the PATCH /api/v1/messages/<msg_id> endpoint.
6f01b04 api docs: Document the DELETE /api/v1/events endpoint.
da06832 right-sidebar: Make Search people input collapsible with search icon.
7c1a803 left-sidebar: Fix styling of Streams header to not use links.
c745d19 bot_config.py: Add function  for loading config file templates.
ed7208f Make EmbeddedBotHandler.get_config_info comply with ExternalBotHandler.
9cc059f bot_config.py: Raise exception when getting config data from bot without config entries.
83d0c7b embedded bots: Run bot.initialize() if bot has this function.
dcd62f9 validator.py: Extend functionality of check_dict().
82db9a2 bot settings: Set converter as default in embedded bot list.
e28943c zjquery: Allow attribute selector '[]'.
a7b35f2 zjquery: Add support for trigger() with string as argument.
d6ae934 refactor: Remove obsolete .user_offline.
9e814e1 refactor: Remove obsolete .ps-scrollbar-y.
f520a28 refactor: Remove obsolete .ps-scrollbar-y-rail.
bebbdce refactor: Remove obsolete .hidden-filter.
30795c8 python-zulip-api: Upgrade to release 0.4.0.
ec207e5 slack importer: Use standalone database for running tests.
5cadc63 slack importer: Extract data into directory of zip file.
29a343c Rename BotUserConfigData to BotConfigData.
c82e73e org settings: Improve design of User groups page.
a937750 node tests: Add 100% test coverage for user_groups.js.
5b70bb8 org settings: Add typeahead to user group member inputs.
58d3770 org settings: Add functionality for updating data of user groups.
48f7e8c org settings: Add functionality for saving state of edited user groups.
d6a937a org settings: Add functionality for adding/removing users from groups.
a8c2087 org settings: Add user group save functionality for editing groups.
7da0c12 org settings: Add user group deletion functionality.
168e7bb org settings: Add user group creation functionality.
8c8cd5f org settings: Render user group data dynamically.
83706e1 org settings: Add User groups content and design.
7790e2b org settings: Add framework for User groups page.
5bbc467 tests: Improve error handling of import failures.
7145e6c travis: Enable test-queue-worker-reload.
6259390 test-queue-worker-reload: Add wait to avoid race condition.
e68adab test-queue-worker-reload: Poll for 60 seconds.
21eabf4 travis: Fix test-queue-worker-reload.
2da8e0d casper tests: Fix bug related to iago's credentials.
d80d5a2 stream settings: Restore original stream name in UI on error.
de13dd4 stream narrow: Set message if narrows to never-subscribed private stream.
6a94b33 stream membership: Display add-subscribers option only if user can add.
31cfd16 stream settings: Update subscription-btn display instant.
7ccaf2d stream settings: Hide subscribe/unsubscribe as needed.
690e82e stream settings: Display edit icon only if user is allowed to edit.
335bed1 org setting: Remove title strings from settings.
2aad083 create stream: Disable announce stream label, not only checkbox.
a870bb3 create stream: Remove disabling announce stream, if all users checked.
ae25f07 create stream: Show notification stream name for announcement.
bb250f4 settings: Apply 'settings-info-icon' style to informational tooltip icons.
2124f4c settings: Add style for settings informational icons.
19eef98 stream setting: Change email address popover placement to right.
8c7d4bb stream setting: Fix bug in email address popover.
f83a694 stream subscription: Clean up error handling.
4f700dd integrations: Add webhook payloads for Raygun.
11af2a6 minor: Fix typo for muting message.
ce43daa stream settings: Fix all dead code related to #subscriptions-status.
479bc41 api docs: Remove old and outdated endpoint docs.
1fd7128 api docs: Document the GET /api/v1/events endpoint.
d235a6c api docs: Remove superfluous sys imports in Python examples.
c616d78 api docs: Recommend using zuliprc file for configuration.
b530ee1 click_handlers: Include expanded mobile sidebars as popovers.
e6d3f88 messages: Create function to calculate first visible message id.
f2a7d44 models: Add message_visibility_limit attribute to Realm.
7c113d1 integrations: Add webhook payloads for Facebook.
d026ad4 settings_display: Change two "!" to one.
a49fd44 css linter: Fix error reporting.
f620525 api docs: Document the POST /api/v1/register endpoint.
9e060b4 portico: Raise z-index of exit button in navigation sidebar.
45f0c76 settings: Limit the creation of generic bots.
6f87927 manage.py: Move the maximum digits calculation to outside of a loop.
ff5a73e manage.py: Make it easy to create lots of streams with `populate_db`.
18c3bec webhooks/gci: Support "unassign" event type.
2c7f4d2 webhooks/gci: Support "extend" event type.
ec2015e Extract settings_display.report_emojiset_change().
daf86eb settings: Add "text" option to emoji_set model.
5ff84e9 markdown: Add markdown shortcuts.
277d463 messages: Add option to limit users message history.
e7f1a9e inetgrations: Add webhook payloads for Honeybadger.
fa44d2e settings: Remove autoscroll_forever setting.
c2248a8 Enable test-run-dev.
9bbce65 test-run-dev: Redirect stderr to STDOUT.
4c5d361 test-run-dev: Remove close_and_get_content.
45b0048 test-run-dev: Fix start_server implementation.
cd849bc test-run-dev: Disable Nagios check.
5409a98 docs: Fix typo in multiple-organizations.md.
535e6bd user docs: Add user guide for configure authentication methods.
c31e148 user docs: Add links back to homepage to the bottom of the sidebars.
20a7453 user docs: Allow redirection of external URLs in documentation sidebars.
50be484 onboarding: Fix error-password overlap bug
8040574 test_docs: Test new API docs (templates/zerver/api/*).
b73c60a api docs: Document the GET /api/v1/users endpoint.
b31bdf2 api docs: Document the POST /api/v1/messages/render endpoint.
0458faf api docs: Document the GET /users/me/subscriptions endpoint.
cf8a8c8 api docs: Document the GET /api/v1/get_stream_id endpoint.
781e8b4 general UI: Add a description for the message view source icon.
e71970c general UI: Add a description for the message edit icon.
185fd99 mypy: Use Python 3 type syntax in several files.
1324d9f mypy: Use Python 3 type syntax in zerver/views.
2e8adbd mypy: Use Python 3 type syntax in zerver/lib/actions.py.
e769a7e api docs: Document the get-streams endpoint.
3003d3d api examples: Change required JS module from `zulip` to `zulip-js`.
89f6229 api docs: Generate Arguments table from JSON.
229cdfc markdown: Add a macro for invalid API key JSON response.
3a90a6b markdown: Add macro for successful send message JSON response.
b093a86 api/private-message: Document arguments and examples responses.
cdcaf13 api/stream-message: Document arguments and examples responses.
94bc9d5 api docs: Split usage.md into two separate docs.
29905ad create stream: Before sending notificaion, check if NOTIFICATION_BOT exists.
db79434 api: Align code blocks properly in /api page.
39fc26d integrations: Add webhook payloads for Runscope.
4a27f41 Try to avoid codecov spam.
ef51a39 markdown: Update regex for strikethrough.
dd406e8 settings: Check if xhr response text include ':' or not.
c060281 org setting: Clean code of realm domain modal.
de62e11 integrations: Add webhook payloads for StatusPage.io.
470e57d node tests: Enforce 100% coverage for stream_data.js.
1544361 node tests: Cover stream_data.delete_sub.
80477da quick fix: Stop tracebacks with missedmessage_hook.
ad9f0de documentation: Explain major and minor provision_version.
2e35b7f mypy: Use Python 3 type syntax in zerver/webhooks/taiga/view.py.
93cc19e mypy: Use Python 3 type syntax in zerver/webhooks/helloworld/view.py.
3b7fbc1 mypy: Use Python 3 type syntax in zerver/webhooks/gosquared/view.py.
6fa51be mypy: Use Python 3 type syntax in zerver/views/push_notifications.py.
64413e3 mypy: Use Python 3 type syntax in zerver/views/email_mirror.py.
238cd2b mypy: Use Python 3 type syntax in zerver/views/alert_words.py.
78e71fa mypy: Use Python 3 type syntax in zerver/lib/test_fixtures.py.
aae6970 casper: Try to fix clicking flakes for message editing.
9391f7a quick fix: Turn off git lint for Travis builds.
de27142 stream settings: Fix link to docs about public/private streams.
6d59dbc casper: Add more flake protection for message editing.
27f7bdf casper: Attempt to fix flakes with message edit settings.
5df9011 user docs: Apply highlights to documentation indexes.
fa92a35 user docs: Highlight currently selected user docs article.
1dcd311 user docs: Fix miscolored hamburger icon on mobile view.
ed4054d Import script: Check and add system bots after every import.
01fa841 Slack importer: Updating the documentation to the new method.
6b32519 Slack importer: Add Travis tests.
62aec06 Slack importer: Add slack to zulip data conversion script as a manage.py command.
cd332a7 Slack importer: Append ids to the existing ids in the database.
5b37c55 Slack importer: Add the slack to zulip data conversion files.
3d4ee3b zerver/tests/test_email_mirror: Sweep force_str.
25e5969 zerver/lib/mobile_auth_otp: Sweep force_str.
cc872ad zerver/lib/upload.py: Sweep force_bytes from ensure_medium_avatar_image.
092472f tests: Add test coverage for uploading avatars to S3UploadBackend.
bebd8df zerver/webhooks/github/view: Sweep force_str.
99cb001 zerver/webhooks/beanstalk/view.py: Sweep force_bytes and force_str.
b792a90 Remove unused imports in the codebase.
6e374d3 tools/lib/provision: Clean the code to directly read files in binary mode.
5dfd7f0 refactor: Clean up add_subscription_marker().
f6c41a5 Avoid overwriting message.unread for message edits.
58ec5f9 Use throttle, not debounce, to "read" messages.
2049493 refactor: Delete deprecated message.flags attribute.
0a3d769 local echo: Bypass message.flags array.
4d8d17d refactor: Upstream calls to `set_message_booleans`.
e96b3ff refactor: Remove flags parm in set_message_booleans.
7165bb1 minor: Remove duplicate function names in unread.js.
199650d refactor: Stop using flags array for unread counts.
a1b2217 refactor: Add unread.get_unread_message{_ids}().
a8cd765 refactor: Inline batched_updater into send_read.
7a36286 frontend: Simplify saving collapsed/uncollapsed flags.
d52552d Simplify/unify starring messages from the frontend.
d5d11ff Disable message menu for locally echoed messages.
94da59f local echo: Don't show collapse/uncollapse items.
f84a49c bot settings: Fetch embedded bots list from page_params.
28b0ebd Embedded bots: Add UI for adding embedded bots.
94c8e8b embedded bots: Strip @-mention from message.
f66f04f mypy: Use Python 3 type syntax in 'bitbucket/tests.py'.
6314238 mypy: Use Python 3 type syntax in 'send_password_reset_email.py'.
34aee15 mypy: Use Python 3 type syntax in 'gitlab/view.py'.
36b58ff mypy: Use Python 3 type syntax in 'views/users.py'.
78042d7 mypy: Use Python 3 type syntax in 'webhooks/gogs/tests.py'.
51be0e5 mypy: Use Python 3  type syntax in zerver/webhooks/solano/view.py.
0fd0332 mypy: Use Python 3  type syntax in zerver/views/custom_profile_fields.py.
613856c mypy: Use Python 3  type syntax in zerver/lib/send_email.py.
4f4d689 mypy: Use Python 3  type syntax in zerver/webhooks/splunk/view.py.
6c5f66c mypy: Use Python 3  type syntax in zerver/webhooks/slack/view.py.
de3eb89 mypy: Use Python 3 syntax for typing in `zerver/lib/request.py`.
bbf24ec mypy: Use Python 3 syntax for typing in `zerver/lib/webhooks/git.py`.
553711e mypy: Use Python 3 syntax for typing in `zerver/tests/test_home.py`.
0494902 mypy: Use Python 3 syntax for typing in `zerver/views/auth.py`.
6533760 mypy: Use Python 3 syntax for typing in `zilencer/views.py`.
55801d2 mypy: Use Python 3 type syntax in zerver/tornado/event_queue.py.
ccc3d69 mypy: Use Python 3 type syntax in zerver/webhooks/bitbucket2/tests.py.
6bcc01b mypy: Use Python 3 type syntax in zerver/webhooks/bitbucket/view.py
f2f9efd mypy: Use Python 3 type syntax in zerver/lib/integrations.py
fb7ee94 mypy: Use Python 3 type syntax in zerver/lib/export.py
da9c808 mypy: Use Python 3 type syntax in zerver/webhooks/transifex/view.py
64ce353 mypy: Use Python 3 type syntax in zerver/webhooks/circleci/view.py
bbe2d91 mypy: Use Python 3 type syntax in zerver/forms.py
06b462b mypy: Use Python 3 type syntax in tests/test_auth_backends.py.
61704dc mypy: Use Python 3 type syntax in views/pointer.py.
5b28196 mypy: Use Python 3 type syntax in decorator.py.
0966f47 node tests: Cover stream_data.get_newbie_stream.
e62d974 emails: Fix notify_new_login emails have unserializable context.
c284766 reactions: Implement local echo functionality.
c33102f Fix mypy error in AdminNotifyHandler.emit().
ac6f337 errors tests: Deduplicate and isolate the magical part.
de5c944 errors tests: De-indent a bunch of code.
ca5c991 errors: Simplify manual testing of error emails.
a34c017 errors: Compute deployment metadata on the right deployment.
eea1ceb errors: Show what logger and source code the message comes from.
77e4790 errors: Stop showing a long list of Nones when there's no request.
68fa29c errors: Make Zulip and email paths more parallel.
8c0fd5b errors: Clean up the logic slightly.
b15231d logging: Rename AdminZulipHandler to AdminNotifyHandler.
73a8349 mypy: Swap order of `user` initialization in ZulipPasswordResetForm.save.
7c819f4 mypy: Account for Optional variables in addressee.py.
57e7ec9 mypy: Adjust 2 emoji.py functions to allow for strict-optional.
451af39 mypy: Correct get*notifications_stream to return Optional[Stream].
d01dcbd mypy: Amend tos_version parameter of create_user_profile to be Optional.
5604259 compose: Notify when drafts are saved.
78e8d18 integrations: Rename HUBOT_INTEGRATIONS_LEGACY.
2f575cc Add Dropbox webhook integration.
0960889 compose: Re-open the compose editor after restoring a draft.
6fc50fa mypy: Use Python 3 type syntax in `zerver/webhooks/sentry/view.py`.
3400108 mypy: Use Python 3 type syntax in `zerver/webhooks/yo/view.py`.
678b434 mypy: Use Python 3 type syntax in `zerver/webhooks/airbrake/view.py`.
9327048 mypy: Use Python 3 type syntax in `zerver/lib/events.py`.
2acf3cf mypy: Use Python 3 type syntax in `zerver/webhooks/mention/view.py`.
017476c mypy: Use Python 3 type syntax in `zerver/lib/create_user.py`.
e7f0139 mypy: Use Python 3 type syntax in `zerver/webhooks/travis/view.py`.
9ea7b05 bugdown: Rewrite markdown link to relative link conditionally.
efe2d49 bugdown: Avoid matching uri with regex.
9ce797d bugdown: Extract rewrite_if_relative_link function.
8bb230f Increase code coverage threshold to 0.07.
898acc4 missed-message-worker: Send email through email_senders.
e0f30d0 email-worker: Send login email through queue.
6851395 email-worker: Create EmailSendingWorker.
f743eeb circleci: Set up locale en_US.UTF-8.
48163db docs: Update Windows installation instructions in setup-vagrant.md.
16d8244 tests: Eliminate 'Sending invitation' output spam in test_signup.
25d5a2e requirements: Upgrade mypy to 0.560.
d4f0c4d docs: Restore Docker links, updated.
7068162 docs: Remove broken Docker links.
8ea39d2 input-pill: Wrap "values" in IIFE.
511f2f3 input-pill: Add "onPillRemove" callback.
c2a41c2 models: Update Realm.get_admin_users to not use select_related().
e9d7161 compose: Warn users when posting to the #announce stream.
1589c59 settings: Show local time instead of UTC in invitations tab.
27a8ef8 actions: Add realm deactivation and reactivation to RealmAuditLog.
cce8d0d invite: Update text of success message.
4261307 emails: Clear ScheduledEmail emails on realm deactivation.
869b4d4 models: Add ScheduledEmail.realm.
cc08bec portico: Update FAQ on /plans.
87e1640 portico: Rename plans at /plans.
c8aadaa integrations: Add webhook payloads for Intercom.
eb65030 circleci: Disable gitlint for now.
e5c6c44 travis + circleci: Start postgresql during provision.
c83c118 circleci: Crudely clone a bit of `is_travis` logic.
e8bf7d2 provision: Remove transitional Python 2->3 logic in setup_venvs.
3ba0d56 travis: Don't create nagios state.
9ce080e circleci: Remove Circle-created gitconfig file.
e34852a package.json: Move difflib to devDependencies.
8936d03 webhooks/gitlab: Support Merge Request Hook approved event type.
44e6d9b testing: Add nice diffs to markdown python tests.
fc2298e node tests: Add nice diffs to js markdown tests.
695affd node tests: Compare markdown using semantic equivalence.
776af2e push notifs: Simplify content-truncation code slightly.
014900c push notifs: Include same stream and sender info on GCM as on APNs.
e077d6f push notifs: Factor out common payload fields for APNs and GCM.
21008a4 webhooks/gci: Support approve-pending-pc event type.
a61a7f3 mypy: Use Python 3 type syntax in zerver/webhooks/pingdom/view.py.
4508264 mypy: Use Python 3 type syntax in zerver/webhooks/opsgenie/view.py.
52f0c44 mypy: Use Python 3 type syntax in zerver/webhooks/ifttt/view.py.
23b2921 mypy: Use Python 3 type syntax in zerver/webhooks/greenhouse/view.py.
403ea48 mypy: Use Python 3 type syntax in zerver/webhooks/gogs/view.py.
33e1879 mypy: Use Python 3 type syntax in zerver/webhooks/beanstalk/view.py.
c556850 mypy: Use Python 3 type syntax in zerver/webhooks/appfollow/view.py.
b0c5eb5 mypy: Use Python 3 type syntax in zerver/views/typing.py.
0438da5 mypy: Use Python 3 type syntax in zerver/lib/avatar.py.
c2441e4 user settings: Clean settings.css and fix bug
c9596e1 user settings: fix uploaded files UI
b3d7a87 user settings: Change file size display format
25f7428 user settings: change 'Date uploaded' display format
0b710e4 user settings: fix 'Uploaded files' UI
0ce8b69 Renamed 'Register' to 'Sign up' including translations
3dc315a node tests: Add 100% coverage for narrow_state.js.
16e03b6 linter: Update commit title regex to match uppercase for the first letter.
7243a91 linter: Re-enable gitlint.
3cfb2d5 tests: Refactor the method for encoding credentials.
39915d9 tests: Replace all get_auth usages with auth methods and delete it.
90aa6c6 tests: Replace api_auth usages with auth methods in zerver/webhooks.
26eb23a tests: Replace api_auth usages with auth methods in zerver/tests.
4a303d1 tests: Add auth methods that will replace passing credentials.
7f4e57d node tests: Cover stream_data.initialize_from_page_params.
2fc0272 Editing (minor): Add .pyi to .editorconfig.
90c71f3 docs: Update request-remote.md.
5b49259 compose box:Add a reply button. Fixes #5578
5a235bc portico: Make minor updates to for/mystery-hunt.
3792bd2 integrations: Add webhook payloads for Groove.
bfda5bb streams: Make stream settings inputs responsive to narrow screens.
bb54aab Change sidebar headings in API docs to not have pointer cursor.
f019033 bugdown: Remove whitespace strip from inline code.
99e62f8 portico: Enhanced password warning
7b8cc39 bot docs: Simplify docs on writing bot tests.
0796161 test_create_update_and_remove_default_stream_group: Fix flake.
b98c5c6 test_multi_user_subscription: Fix flake.
e4bf3d6 api: Fix typo in interactive bots doc.
a05631d night-mode: Add experimental text.
445ece4 Fix 'v' hotkey image searching behavior. Fixes #7621
bc37317 invites: Differentiate users invited as admin by showing bolt icon.
10149b7 stats: Add per-graph loading indicator
1df3e04 bot settings: Clear typeahead when renaming a bot
20f3b0f popovers: Apply email overflow changes to ".message-info-popover".
97c3d5f user profiles: add tooltip for too long email.
c54c40e refactor: Remove obsolete .sidebar-nav.
e9ae14c refactor: Remove obsolete .position-relative.
7b91668 refactor: Remove obsolete .messagebox-bottom-colorblock.
b9c784b refactor: Remove obsolete .messagebox-bottom.
6f7574c refactor: Remove obsolete .message-right.
50517c1 refactor: Remove obsolete .message-pane.
38d7785 refactor: Remove obsolete .edit-profile.
ffe3776 create stream: Show current user on top of "People to add" list
7651144 Added darken to perfect-scrollbar on scroll
137c0e6 tools: Revert to Python 2 typing syntax for now.
17a6632 zerver/views: Revert to Python 2 typing syntax for now (storage, streams).
73a5c39 docs: Fix link in roadmap.
d5fd2a1 tools: Fix run-dev.py, which had an `if False:` on a needed import.
ca09c1e templates: Revert change to Python 3 typing syntax in examples.
66261f1 tools: Use Python 3 syntax for typing in many files.
5a18699 templates: Use Python 3 syntax for typing.
92d62f6 zilencer/management: Use Python 3 syntax for typing.
620b2cd zerver/views: Use Python 3 syntax for typing (storage, streams).
cd5e444 logging: Drop confusing use of `propagate` in test_settings.
b830b44 logging: Reduce `create_logger` to new `log_to_file`.
1c810ba logging: Stop calling basicConfig in `create_logger`.
b6491fd logging: Eliminate log_level from create_logger.
ebcf0b4 logging: Stop having `create_logger` force loglevels to INFO.
b54f789 markdown: Add automatic numbering of ordered lists.
20b2c11 activity: Show the time the data is from.
bdea096 activity: Supply a missing field.
1e1f381 activity: Explain highlighting of young realms.
e6cdc55 activity: Use real ≥ signs, not ">=".
d36b1cd activity: Correct description of message-history figures.
799bf58 bot docs: Change zulip-bot-output to zulip-terminal.
4e01467 travis: Try returning to the just-deprecated base image for now.
0975beb quick fix: Fix migrations to be linear.
acebd3a migrations: Replace special chars in stream & user names with space.
d30fb5a UserProfile: Disallow markdown character in the user profile name.
dd1b143 Streams: Disallow certain markdown characters in stream names.
8ed7f73 IRC mirror: No longer require IRC stream names to start with #.
08b3967 invitations:  remove reformatting on error
1093d88 hotkey.js: Navigate using page up / page down
240511c dark-mode: Compact common background-color declarations.
86f87bc dark-mode: Change hex color codes to HSL.
45d0b2b dark-mode: Fix background colors of modals and sidebars in mobile view.
10fc40a dev_settings: Remove accidentally-pushed OAuth app IDs.
8a432c5 APNs: Update comment on versions of our APNs payload format.
98943a8 Include data of stream/private sender details in apns push notifications
b777966 models: Set UserProfile.MIN_NAME_LENGTH to two.
ebc7c72 mypy: Use Python 3 type syntax in wordpress/view.py
2db270b mypy: Use Python 3 type syntax in crashlytics/view.py
1fa5233 mypy: Use Python 3 type syntax in gitlab/tests.py
cc42791 mypy: Use Python 3 type syntax in stripe/view.py
7887857 mypy: Use Python 3 type syntax in user_settings.py
85ae723 mypy: Use Python 3 type syntax in zerver/lib/soft_deactivation.py.
2adeaab mypy: Use Python 3 type syntax in zerver/views/invite.py.
f07d393 mypy: Use Python 3 type syntax in zerver/webhooks/basecamp/view.py.
d038e7e mypy: Use Python 3 type syntax in zerver/webhooks/bitbucket2/view.py.
20c2e53 mypy: Use Python 3 type syntax in zerver/webhooks/jira/view.py.
15fb392 mypy: Use Python 3 type syntax in zerver/webhooks/papertrail/view.py.
3fb9803 mypy: Use Python 3 type syntax in zerver/webhooks/teamcity/view.py.
0fa9a48 wip test oauth
9094498 signup: Redirect to /register instead of sending mail when user has no account.
e9a7173 actions: Cut some redundant types in docstrings.
47fcb27 invitations: Remove custom_body.
00178d1 mypy: Use Python 3 type syntax in zerver/views/streams.py.
aa9567c mypy: Use Python 3 type syntax in zerver/middleware.py.
d9ce33d registration: Clarify realm_creation conditionals in accounts_register.
e545a68 registration: Use standard pattern for returning link_does_not_exist.
dbe3576 registration: Enforce realm is None only if realm_creation.
9682ad4 left sidebar: Add margin to bottom of Streams list.
ac7d086 sidebar: Revert to narrowing to whole stream.
d15fcc1 sidebars: Revert change to more muted colors.
2252d7e Revert "dark-mode: Add "T" hotkey for dark mode theme."
db55fd8 Revert "Make dark theme toggle only run in dev mode."
1d202e3 integrations: Add webhook payloads for Opbeat.
b8976ae integrations: Improve wording in create-bot-construct-url.md.
4eb3202 integrations: Remove weather example from zapier doc.
3706ec7 linter: Add good/bad lines for CSS and HTML.
48afc55 settings: Reword notifications settings strings.
7ae9c29 org settings: Change wording of restrict to domains setting.
54affea desktop: Update desktop app to v1.7.0.
14d1902 node tests: Cover exports.create_sub_from_server_data.
f323d59 org settings: Remove double negative from open realm setting.
7cc8992 message feed: Update wording for narrow to non-existent stream.
4a26271 Better errror message for narrow to a nonexistent stream. Fixes #6862
63e8248 node tests: Cover stream_data.canonicalized_name.
0b9e678 node test: Cover stream_data.render_stream_description.
d2a2d0b node tests: Cover stream_data.get_subscriber_count.
36ade63 compose: Fix bug in undo operation
e5c05f1 mypy: Use Python 3 type syntax in zerver/views/realm_filters.py.
c2c023f mypy: Use Python 3 type syntax in zerver/tornado/websocket_client.py.
1f34300 mypy: Use Python 3 type syntax in zerver/webhooks/trello/tests.py.
738c73f lint: Prevent `self: Any` annotations.
ac487729 mypy: Improve typing for ManifestStaticFilesStorage monkeypatch.
f83a73c mypy: Use more specific type for _replacement_destroy_test_db.
78041a5 mypy: Use more specific type for instrument_url wrapper.
aa37b50 mypy: User Python 3 syntax for typing in realm.py.
a6465e8 mypy: Use Python 3 syntax in zapier/view.py.
1262d14 mypy: Use Python 3 syntax in gci/view.py.
38e6557 mypy: Use Python 3 syntax for typing in heroku/view.py.
a831acd mypy: Use Python 3 type syntax in bugdown/__init__.py.
63e793a mypy: Use Python 3 syntax for typing in views/tutorial.py.
9bf0c96 modals: Make settings page selectors more specific.
799e4ad compose: Align Press Enter to send checkbox with label.
eb2bdb7 sidebar: Narrow to latest topic if not in stream.
6d92738 tests: Cover new composebox typeahead terminal symbols.
39dc41f user docs: Add doc for video calls.
c6985e2 eslint: add --cache flag for faster linting
59b0776 left-sidebar: Lighten global filter icons.
aebf63c sidebars: Change to more muted hover/active colors.
60e018e sidebars: Add 1px of vertical margin to all <li>.
953ee77 sidebars: Remove link underlines on hover.
7504d01 node tests: Cover stream_data.remove_default_stream.
48ebec3 node tests: Cover exports.get_default_status.
e134fd6 node tests: Cover exports.is_for_stream_id.
806e9bb node tests: Cover exports.remove_subscriber.
b874693 node tests: Cover exports.user_is_subscribed.
a30152c models: Use is_cross_realm_bot_email whenever possible.
ff43443 models: Create is_cross_realm_bot_email function.
c90faca portico: Modify docs sidebar to a light shade of green.
b7fb86b user docs: Modify sidebar and index page styling.
eddf3a7 components: Change cursor to pointer for checkbox labels.
5f48049 invitations: Make stream labels click targets.
6e85122 integrations: Fix broken ifttt link.
9c2a28b invitations: Fix lint errors in test_queue_workers.
6787fbd invitations: Change rate limiting to use invites_sent::day.
fbd8dde invitations: Add LoggingCountStat to keep track of sent invitations.
100167f invitations: Change error messages for resend/revoke views.
cb5eb47 invitations: Move resend/revoke error handling out of actions.py.
968aae1 invitations: Remove get_prereg_user_by_email.
cab5c41 invitations: Add tests for queue worker.
8baadc6 invitations: Add check for invite limit to resend invite pathway.
b348242 invitations: Adjust a few blank lines for clarity and compactness.
cb527fd invitations: Move spammer check from do_invite_users into its own function.
e48bc91 invites: Change resend invitation pathway to use existing code.
e8b33f2 settings_invites: Change wording on resend button.
349dad7 typeaheads: Change active <li> to have white text again.
2776787 compose-alert: Remove unneeded style.
0ed9da9 compose: Make compose alerts dark-mode compatible.
9a3a9be compose: Restyle `#out-of-view-notification` alert.
83d9844 compose: Center "x" vertically and horizontally on cross-stream warning.
0e4eef6 dark-mode: Make bankruptcy modal dark-mode compatible.
a3dac75 bankruptcy: Change to new default button styles.
a5da626 dark-mode: Make all states of navbar <li> dark mode compatible.
4fd3492 node tests: Cover exports.get_user_group_from_id.
5febd17 mypy: Use Python 3 type syntax in zerver/webhooks/newrelic/view.py.
d55d680 mypy: Use Python 3 type syntax in zerver/webhooks/homeassistant/view.py.
c2ef7e7 mypy: Use Python 3 type syntax in zerver/webhooks/freshdesk/view.py.
21e629f mypy: Use Python 3 type syntax in zerver/lib/test_classes.py.
96fa399 mypy: Use Python 3 type syntax in tools/lister.py.
bbdf9f0 node tests: Cover stream_data.notifications_in_home_view
cd9c066 node tests: Cover stream_data.name_in_home_view
5f50786 node tests: Cover exports.operators.
8b7e355 node tests: Cover single_collect.
8d0ccd2 narrow_state: Make set_compose_defaults return opts.
164fe28 node tests: Cover exports.receives_audible_notifications.
f0d8ce0 node tests: Cover exports.receives_desktop_notifications.
67773a4 mypy: Use Python 3 type syntax in zerver/webhooks/semaphore/view.py.
e2c1472 mypy: Use Python 3 type syntax in zerver/views/messages.py.
ff43543 circle-docker: Describe how to build the image.
535fd9b circle-docker: Silence some spam output.
ea589e8 circle: Bump base image version.
58db3c1 circle: Bump cache version.
fda349f circle-docker: Fix getting a sudo prompt.
a1265e0 circle-docker: Add all the standard APT deps we provision.
ab57756 circle-docker: Prune redundant packages from install list for clarity.
642fb85 circle-docker: Use -scm variant of base image to save a bit of work.
8050ad6 circle-docker: Simplify a bit for clarity and efficiency.
b999094 circle: Draft a config for running our builds in CircleCI.
7094f78 circle: First, near-upstream cut at a Dockerfile.
f6071e0 compose typeahead: Add newline and other terminal_symbols.
dd97c7e nfs: Allow read and write in NFS share.
dd57939 plans: Make minor wording changes.
8b1c3c0 plans: Make the feature thead separator narrower.
58a20b3 plans: Change the positioning of the commercial hosting price.
3ef5296 plans: Swap the order of the two blocks within .pricing-container.
460e9b4 Scripts: Add script for resetting postgres sequences for imports.
ef2f279 activity: Explain "active sites", and which sites show up in table.
34ee019 activity: Consistently define "user" as non-deactivated, non-bot.
0ebfc2f activity: Highlight recently-created realms.
8de34c9 activity: Show each realm's creation date.
2c9b698 activity: Replace "at-risk users" with WAU.
c5a3218 activity: Explain what the numbers mean.
3be8e95 settings: Send bot types from the backend instead of hardcoding them.
2310794 bots: Don't allow embedded bots bot type in production.
eebef9e portico: Update /for/mystery-hunt.
e9b3ac3 travis: Remove now-unnecssary items from apt-mark hold lists.
2a7ea5c dark-mode: Change star color to be lighter.
5735f82 dark-mode: Make typeaheads dark mode compatible.
9d255ac dark-mode: Respect ".no-style" attr on buttons.
6d58357 Informational-overlays: Change "Search Operators" red to better red.
525e8e3 dark-mode: Fix tab list stream to not inherit color.
03c15fd dark-mode: Change edit notice medium grey to translucent.
675cb85 message-feed: Increase font weight of "(EDITED)".
a48568e message-edit-history: Update to new button default style.
180dee5 message-feed: Remove unnecessary text shadow on date row.
f6bbc1f dark-mode: Change date row from medium grey to translucent.
4f81bdd message-edit-history: Make dark mode compatible.
625c163 dark-mode: Convert medium grey to translucent base color.
b2194e8 message-feed: Reduce animation time for date.
80b68c3 message-edit-history: Increase font weight of author.
7883897 muted-topics: Enable dark mode for mute notifications.
afce6b1 muting: Change muting overlay to use standard buttons.
bc11b0f Revert "dark-mode: Remove unnecessary CSS and fix dark mode bugs."
30475ba Sidebars: Add border radius to hovered <li>.
e50f036 travis: Remove all travis sources.list files early.
1061815 typeahead: Refactor typeahead tests to include cursor position.
6e353a0 hotkeys: Clear compose box warnings with escape key.
6e5dab6 node tests: Cover set_compose_defaults.
e023664 night-mode: Add custom CSS through JS.
6d887dc test-backend: Require 100% test coverage on confirmation code.
7d1c88f invitations: Limit realms to 100 invites per day.
8dc0adb confirmation: Add Confirmation.realm.
93abac7 confirmation: Fix mypy annotation in create_confirmation_link.
7c96940 confirmation: Move check_prereg_key_and_redirect to registration.py.
6e8f4ff test_signup: Expand tests for invalid confirmation links.
3675d97 confirmation: Refactor views.confirm to be clearer.
331a9be confirmation: Add Confirmation.REALM_CREATION.
0f5c0ea confirmation: Add comment explaining RealmCreationKey.
dc244bd confirmation: Fix time enforcement in check_key_is_valid.
4926228 rabbitmq: Do a better job of retrying failed connections.
7ac2b58 rabbitmq: Reorder a bit to group our reconnect logic together.
c32b167 tornado: Use spiffy new `call_later` rather than `add_timeout`.
73886f5 zerver/lib/queue: Clean up import order.
3c4e4c1 rabbitmq: Add on-close callback atomically in creating the connection.
e88c2a7 rabbitmq: Cut redundant `stop_ioloop_on_close` parameter.
e7ec21b dark-mode: Add pigments support for dark mode.
a7c2258 dark-mode: Change drafts container to be dark.
387bdd3 dark-mode: Change top-of-messages colors for dark mode.
d883f33 dark-mode: Refactor top-of-messages logo to have CSS styles.
a2729c5 dark-mode: Fix incorrect hover colors on `.stream_label`.
6d8d5f7 invite-users: Change buttons to new style.
618455c dark-mode: Fix invite overlay to have a dark background and borders.
836bfd8 dark-mode: Refactor gear-menu icon to be translucent.
e37838c dark-mode: Refactor compose icons to be translucent.
edffa56 dark-mode: Style alerts to be darker red.
89b38ff dark-mode: Change all links to be brighter blue on hover.
76f6051 dark-mode: Change popover arrows to all be dark.
ad9c71b dark-mode: Change emoji reaction overlay to be dark mode compatible.
1716d69 dark-mode: Fix @-mention colors.
377cad7 css: Deduplicate user-group-mention CSS.
e62ba13 dark-mode: Change `background-image` and `background-color` to background.
1e03c15 settings_display: Change dev check to correct attribute.
64381b6 dark-mode: Remove unnecessary CSS and fix dark mode bugs.
be83238 user_groups: Fix reporting of empty user groups.
621d5dc typeahead: Show typeahead only if cursor is before space or punctiation.
fe979af purge_queue: Allow purging Tornado-consumed queues.
b2cb443 subs: Fix clearing unread counts when leaving private streams.
5279ac4 droplets: Update snapshot id.
c2cd76b docs: Note need to log out and in again on push notifs setup.
176e4a2 lightbox: Allow for clicking top and bottom to close overlay.
f934796 settings: Only include two-factor apps if two-factor auth is enabled.
954c363 dev_settings: Convert hostname to lower case when setting external host.
3d6340e subs: Add padding to Announce stream tooltip content.
4871b48 node tests: Add tests for stream() and topic() in narrow_state.
4a0c372 get_user_group_from_name: Remove existence check.
967ef04 docs: Fix typos in event-system document.
61089a9 python-zulip-api: Upgrade to package release 0.3.9.
5b73c54 docs: Push all extraneous level-1 headings inward.
dc8cb0b docs/git/pull-requests: Give headings more hierarchy.
c7a9f2f docs: Give docs on docs a clearer heading for navigation.
6bc1a68 notifications: Separate push and email notifications checks.
ba70b54 notification settings: Add stream email notifications setting.
bae1ecf tools/setup: Delete static/generated/bots before repopulating.
ee546a3 zerver/lib: Use python 3 syntax for typing.
229a8b3 zerver/lib: Use Python 3 syntax for typing for several files.
115f7e6 zerver/tornado: Use Python 3 syntax for typing (part 2).
5dedb48 roadmap: Rewrite roadmap to no longer point to milestones.
a1cc720 zerver: Use Python 3 syntax for typing.
0ec2a9d auth: Try switching to register even if user exists on another realm.
d329636 tests: Add test for user signup with already-used email.
50e451c populate_db: Create an email-reusing Cordelia in the "lear" realm.
586e18b auth: Allow accounts with the same email in different realms.
e6f460f auth: Replace user_email_is_unique validator.
d6cfa56 test_signup: Test that cloning a system bot's email is not allowed.
a753f49 populate_db: Add a "lear" realm for testing cross-realm email sharing.
5f38b37 register: Activate existing mirror dummy only if on same realm.
eb8b05b test_email_mirror: Remove a brittle bit of logic.
453585a test_messages: Clean up some error spew by updating a test.
f632692 lint: Fix use of re.match in judging long lines.
b6cc21b debug: Add facility to dump tracemalloc snapshots.
6dd6394 integrations: Add topic parameter for Appfollow.
191f8f1 left sidebar: Change Home to All messages.
1acdfef two_factor: Disable prefix in OurAuthenticationForm.
274bba8 two_factor: Add configuration and URLs.
4f5a5a8 auth: Extract add_dev_login_context.
b42ce65 requirements: Add dependencies for two-factor auth.
d5bb45d webhooks/gci: Fix missing mypy annotation.
bea653f webhooks/gci: Improve message formatting.
2d7536b Document the add_mentor.py tool.
ba1a32c Create script to add and remove mentor's ssh key from DO droplets.
6e22847 refactor: new message content -> compose textarea.
e92a8ac subs: Properly focus on Stream name box while creating a new stream.
b9826e9 Add filters for toMarkdown to paste data to compose-box.
cb8f2cf git cheat sheet: Be a bit less agressively anti-git-pull.
c073af0 git-docs: Highlight Zulip's git scripts in overview.
106cc71 docs: Add external documentation for markdown subsystem.
a2d1ebc git-docs: Refine git-cheat-sheet with more examples.
87a412a droplets: Fix broken link for requesting droplets.
73ee9a4 droplets: Update info on recreating the droplets.
c371935 droplets: Update baseimage snapshot id.
29e9d16 refactor: s/upload-bar/compose-upload-bar.
6a69441 refactor: s/error-msg/compose-error-msg.
b9c2f47 refactor: s/send-status-close/compose-send-status-close.
c0c58f9 refactor: s/send-status/compose-send-status.
19b518c refactor: Extract tests for upload mechanics.
ddaff4c refactor: Extract upload mechanics to new JS module.
0445322 compose: Export the major upload-related methods.
df58f0f compose: Export some upload-related variables.
1e66bd1 tests: Add newlines to test_service_bot_system.test_internal_endpoint().
c8a5ae7 embedded bots: Consistently use 'storage' instead of 'state.'
9645c8b integrations: Remove disabled googlesearch integration.
c45517f python-zulip-api: Upgrade to PyPI package release 0.3.8.
e538f4d zerver/views: Use Python 3 syntax for typing.
92888a0 zproject: Use Python 3 syntax for typing.
83149a9 copy paste: Turn off toMarkdown in production.
3fcfcd2 copy paste: Add toMarkdown test for `1. text`.
bd8196c lint: Fix too-long line in auth.py.
8082780 typeahead: Update @mention to not autocomplete "@ " (@space).
d4ee302 registration: Require an explicit realm on PreregistrationUser.
985768b registration: Check realm against PreregistrationUser realm.
8b935f4 settings: Add setting for SYSTEM_BOT_REALM.
25fd4c5 bulk_get_users: Edit the cache keys to make them more unique.
339b67f get_cross_realm_dicts: Harden against caching bug in last commit.
646ba5b bulk_get_users: Fix issues with users in multiple realms.
f423dc4 check_send_receive_time: Fix parsing bug.
6734b00 markdown: Hide URL if message is only an image.
3550467 markdown: Insert text in link-only inline image preview tests.
025b8c1 Simplify code to warn about private stream links.
e74118e tests: Improve templates.compose_private_stream_alert() test.
8f190e0 user-groups: Update marked.js to do proper local echo for mentions.
90994bc user-groups: Recognize single asterisk for group mentions.
c78846a markdown.js: Add error function to blueslip.
9d0eea8 user-groups: Add is_member_of.
1d826ae composebox: Warn when linked to private streams.
be56a99 popover: Populate compose_box with popover user's email.
649b7b8 internal_send_message: Enforce being passed cross-realm bots.
ae8e203 actions: Merge internal_prep_message into internal_send_message.
6952dcb embedded bots: Stop using internal_send_message for non-system-bots.
2758278 embedded bots: Flip around ordering of rate-limiting check.
5306a96 email_mirror: Rewrite to not use internal_send_message.
5b8f38f webhooks/bitbucket2: Ignore push events with no changes.
2210f62 signup: Switch active mirror-dummy users to an AssertionError.
b9bc1c2 Eliminate get_user_profile_by_email from test_classes.
d1ff429 backends: Remove assumption that only one user can have a given email.
610eb55 backend: Make password reset form support multi realm membership.
9f22536 register: Make /register redirect to find accounts in root domain without realm.
bab0b91 test_signup: Extract logic for realm-creation test to a function.
1b5753d test_signup: Fix assertIsNone check for realm in RealmCreationTest.
c3c978e docs: Document the new queue_json_publish model in our unit tests.
9fcdb6c notifications: Use call_consume_in_tests for email sending.
0e0a8a2 queue processor tests: Call consume by default.
5e23bfa typeahead: show typeahead for syntax of the from @**... or #**...
cd83b94 git-docs: Make links to Zulip's git-tools at relevant places.
a9e9150 git-dogs: Move working-copies to docs/git.
e2c1cf6 git-docs: Move fixing-commits to docs/git.
e811675 git-docs: Merge two cheat-sheets and move to docs/git.
ae0732e git-docs: Fix typos and make minor edits to working-copies.
585cd36 setting: Align elements properly in invite users.
15bf0eb css: Fix overflowing long URLs in Markdown macros.
23162a1 github_webhook: Use indented Markdown macros.
1dca7cc webhooks/beanstalk: Use indented Markdown macros.
8b43e07 webhooks/codebase: Use indented Markdown macros.
880fd54 markdown: Add indented versions of multi-line Markdown macros.
6968b54 mypy: Remove type: ignores that are unnecessary with new mypy.
84847b8 requirements: Upgrade mypy to 0.550.
d639e31 lint: Fix check-templates handling of team.html.
13a1b44 settings: Fix missing target=_blank on realm emoji images.
146aed3 gitignore: Ignore package-lock.json generated by npm.
9e8ae68 vagrant: Add NFS backend for file synchronization for OSX.
0dc91a9 css: Fix code blocks overflowing for integration names.
b607d26 lightbox: Fix image metadata not displaying at full width when possible.
711f7bc upload: Fix typo in animated GIF error message.
6f53d65 docs: Update a few broken links to the Git guide.
fa3602b docs: Split 'git-guide.md`.
271c3c1 portico: Fix portico dropdown bug.
7821acd /team: Fix typo.
1152246 Revert "reactions: Change from grey to translucent."
0f8ee34 node: Fix copy_and_paste test output.
cc8c8ab node: Fix style in copy-paste test.
4d4532a copy_and_paste: Add a simple extensible test suite.
e7f1825 bugdown: Update KaTeX to version 0.8.3 from 0.7.1.
15cf87f clean-npm-cache: Fix path to yarn in Travis CI.
15501c8 lint: Clean up json_rules logic for tab-based whitespace.
fb88eaa lint: Fix logic for exclude to handle directory trees.
def573c remotedev: Add option to recreate droplets.
938892d lint: Ban tab-based whitespace in our our text fixtures.
f70b36a 12-toggle-message-editing: Add wait before flaky test.
49f4c33 docs: Update release checklist with thoughts from 1.7.1.
50ea5ff version: Update mentions of latest release to reflect 1.7.1.
fbbd5b0 changelog: Document 1.7.1 release.
47abd9c i18n: Update translations (including complete Korean!)
64c608a install: Clarify how we set locale during install, and why.
59870b2 Make dark theme toggle only run in dev mode.
a37e993 portico: Remove unnecessary background from realm-icon.
f425f9a navbar: Fix transparency issue.
b9fc4a4 docs: Mention the error when phantomjs is not installed.
138c486 zilencer: Use python 3 syntax for typing.
0449dc8 bugdown: Fix handling of nested fenced math blocks.
01885cd analytics: Use Python 3 syntax for typing (final).
6c286b5 analytics: Use Python 3 syntax for typing (part 2).
a4e9da2 coverage: Update pattern for __str__ for new typing syntax.
db240de /team: Make the contributor list more fair.
e44b880 /team: Render contributors list in tabs client side.
019c06a /team: Populate authors.json with updated file structure.
09d1030 /team: Use list instead of dict for contributors data.
771abf4 /team: Fetch contributors data from all major repos.
8438419 docs: Exclude files from TOC warnings and navigation sidebar.
11b8b8f docs: Add rtd layout template.
9074b9f docs: Do a few more tweaks to the webhook walkthrough formatting.
a1d2554 docs: Fix formatting of integration-docs-guide.md
43484ad markdown processor: Exclude some files from macro substitution.
2e7d0cb digests: Fix new stream links.
e071d27 lightbox: Fix text overflow of translated user interface.
8f6b39a mypy: Fix annotations for json_encoder_for_html.
3ec90f8 zerver/tests: Use python 3 syntax for typing (final).
0260ba8 zerver/tests: Use python 3 syntax for typing (part 4).
3bf9cd0 zerver/tests: Use python 3 syntax for typing (part 3).
e3daa09 zerver/tests: Use python 3 syntax for typing.
f1850b9 test-backend: Don't use monkey-patching to set formatter class.
33865a3 lint: Add exclude rules for URLs in code comments.
e169bb0 zerver: Remove simplejson dependency.
b4e67fa bot_lib: Fix storage bug introduced by rebase error.
e558988 Replace optparse with argparse in remaining tools.
585b71b email-mirror-postfix: Replace optparse with argparse.
54fb88f scripts: Replace optparse with argparse.
5f6dbe6 fixtures: replace optparse example with argparse.
e526d0c embedded bots: Add views to access state.
d2af8d4 embedded bots: Support multi-entry state modification.
cbadd3d embedded bots: Simplify StateError exception messages.
141cf21 bulk_create: Fix buggy logic for generating recipients_by_email.
3f4bf2d zerver/lib: Use python 3 syntax for typing.
561ba33 zerver/lib: Use python 3 syntax for typing.
73d0f1d lib/integrations: Remove Integration.doc_context.
600ee90 integrations: Add add_context_for_single_integration function.
e1686f4 bulk_create: Remove assumption that UserProfiles are globally unique.
aa2a463 tests: Lock down 100% test coverage on zerver/forms.py.
f6e57fd forms: Remove unnecessary OurAuthenticationForm logic.
719d6c4 forms: Stop using get_user_profile_by_email in OurAuthenticationForm.
36bc037 auth: Convert SocialAuthMixin to use new helper.
22b7de0 auth: Move check for social backend earlier.
665fc59 auth: Set valid_attestation more unconditionally in social auth.
ade5b4e auth: Convert SocialAuthMixin to accept a realm object.
0377288 auth: Fix GitHub test for invalid user account.
251a537 auth: Set the subdomain in more GitHub auth tests.
732dd1b auth: Improve logic for invalid GitHub emails.
766511e actions: Mark all messages as read when user unsubscribes from stream.
5206999 compose: Preserve links when pasting html.
9fa58a3 compose_ui: Automatically resize textarea after adding new syntax.
d400b10 docs: Reword GSoC section of contributing.md.
1c9a28d ldap: Use simpler ordering for handling successful auth.
e0b56c7 ldap: Simplify logic for user creation.
e91051b ldap: Remove some unnecessary indentation.
c4c8879 ldap: Fix the error message for deactivated users.
97f1c2a ldap: Use new helper for checking realm status.
104a8de ldap: Shrink unnecessary scope of missing user block.
e100935 auth: Move LDAP check for whether backend is enabled earlier.
195a78a auth: Convert EmailAuthBackend to use new helper.
8c21619 auth: Move checks for password_auth_enabled earlier.
3bfb19b Convert EmailAuthBackend and LDAPAuthBackend to accept a realm.
53224a1 EmailAuthBackend: Convert a return to assert for a now-impossible case.
1b95b09 auth: Clarify comments explaining the GoogleMobileOauth2Backend.
23d791c auth: Convert GoogleMobileOauth2Backend to use new helper.
caddef9 auth: Invert conditionals in GoogleMobileOAuth2Backend.
fee2e36 auth: Set valid_attestation for Google auth backend always.
3c15f44 auth: Check for GoogleMobileOauth2Backend being enabled earlier.
a7d5112 auth: Convert GoogleMobileOAuth2Backend to accept a realm object.
37acfb4 auth: Convert DevAuthBackend to use new helper.
fa8eab3 auth: Check for DevAuthBackend being enabled earlier.
07bc31f auth: Convert DevAuthBackend to accept a realm object.
4968631 auth: Convert DevAuthBackend to use a unique argument pattern.
f2d3258 auth: Rewrite RemoteUserBackend to use new helper.
73df431 auth: Check for RemoteUserBackend being enabled earlier.
d63e9f2 auth: Remove unnecessary remote_user=None code path.
387c910 auth: Convert RemoteUserBackend to accept a realm object.
fb6abe1 auth: Rewrite DummyAuthBackend to not block email reuse.
f17974a DummyAuthBackend: Require being passed a realm object.
236c4b5 contributing: Improve discussion of internships.
4832d34 docs: Add a bit of discussion of GSoC.
3468937 settings: Create UI and backend for setting signups stream.
3d2c9c6 models: Replace core team with Realm.INITIAL_PRIVATE_STREAM_NAME.
a0275a6 actions: Send new user messages to signup_notifications_stream.
4265271 onboarding: Refactor away setup_initial_private_stream.
3d17897 onboarding: Move signup notifications stream creation to do_create_realm.
08aca17 models: Add signup_notifications_stream attribute to Realm.
089ff8a backends: Convert authenticate methods to modern type annotations.
708872f populate_db: Use call_consume_in_tests when generating test data.
84b9147 gitignore: Add static/generated/icons.
5221ea5 settings: Make CSS selector more specific in table rows in org settings.
41a2032 docs: Add 'requirements.txt' to bot structure outline.
4a6c3ee Use realistic filepaths in zuliprc docs and hints.
aa50fae portico: Add anchor link support to API and user docs.
9d97312 user docs: Update compose box screenshots.
b97bb3a frontend: Move checkbox to the left of label text
bff7368 Generate custom-icon-webfont on each provision or update-prod-static.
327bb05 docs: Make index page easy to find.
73e4d64 casper: Add a few more explicit waits to message editing tests.
c7f47f5 casper: Use casper.then() more consistently in editing tests.
0b543bf docs: Rewrite certbot discussion, to enjoy the new automation.
de2a2d0 docs: Send people to install instructions for latest release.
5111aea tools: Rewrite `test-locked-requirements` to be more performant.
40fe623 build_emoji: Migrate to python3.
df4d10a custom_check.py: Fix the comment for ignoring long lines.
29408d2 emoji: Rework reactions validation to have a single function.
2d4c7b7 reactions: Move legacy endpoint code further down in file.
80a2a36 reactions: Rename legacy reactions for greater clarity.
87b523f emoji.py: Refactor emoji data consistency checking functions.
9a4d5fe test_reactions.py: Extract `EmojiBaseReaction` test class.
8a4fc99 reactions.js: Migrate webapp to use the new reactions API.
6981ac3 requirements: Add back explicit typing dependencies.
27babcf portico: Update error message for deactivated user.
f202645 portico: Rename community forum to community chat.
ef6e383 portico: Add block on video calls to features.html.
e75f0c1 requirements: Rename requirements files.
95b3f2e requirements: Add mypy.txt and docs.txt to locked requirements framework.
e81b64d docs: Move remotedev docs to docs/development/ and fix links.
1d06869 provision: Bump PROVISION_VERSION for recent email changes.
25ddba9 lint: Ban general use of user_profile.save().
432c9d3 email_log: Reset the value of email after email change process.
0667a62 password reset: Simplify password reset form logic.
9c50819 email: Add reset button to password reset email.
c8edbae password reset: Fix error message for invalid realm.
10fbafa PasswordResetTest: Clean up mocking of logging.info.
95ba3e7 password_reset: Send email unconditionally.
489feaf docs: Add a few more articles to subsystems TOC.
d6fb70e docs: Move users.md to subsystems/ and give it a title.
1f43252 docs: Update TOC in production to include SSL and email.
c3ac989 docs: Move migration-renumbering.md to subsystems/.
a5e605d docs: Delete brief-install-vagrant-dev.md
02be1a1 docs: Document Firefox's screenshot feature.
3a397b2 /team: Left align BDFL name and role in non-mobile UI.
02a32e2 webhooks/gitlab: Support test payloads without an "action" attribute.
9138d3b integrations: Move integration-specific context to integration_doc.
fca765d portico: Update text on /team.
46ba76e Fix broken link to GitHub CONTRIBUTING guide.
8b152fc email: Fix identification of chrome as safari on ios
f6bf11f portico: Add for/mystery-hunt.
33b1a54 zerver/lib: Use python 3 syntax for typing.
4a07214 zerver/tests: Use python 3 syntax for typing.
6c28c7e zerver/tests: Use python 3 syntax for typing.
13aa23e provision: Run clean-unused-caches.
a6510c4 docs: Remove integration docs from tutorials/index.
18369cb JWT: Fetch the subdomain earlier in the auth code path.
462b7a1 tests: Expand test coverage of OurAuthenticationForm.
81adc92 actions: Use get_system_bot for fetching WELCOME_BOT.
cd95c09 forms: Use an AssertionError for unexpected DNS errors.
94d188f docs: Fix broken anchor links after API docs migration.
1ed50ee tests: Pass a realm option to login for non-zulip realms.
1e334f4 test_subs: Fix nondeterministic failures in default stream tests.
a194f17 gitignore: Ignore several artifacts of a prod deployment.
79a5ddc gitignore: Fix format for excluding .cache/.
bd5905d error_notify: Use `git describe --always`.
a0cfe45 analytics: Wrap some longer lines.
d1689b5 analytics: Use python 3 syntax for typing.
b2637c8 docs: Fix broken link due to integration guide migration.
73915a9 docs: Move integration docs to /api.
06b57e8 style: Merge css of social login/register buttons.
1e3aa55 github: Override get_authenticated_user.
83f563a bugdown: Properly parse empty blockquotes.
bdaf327 message feed: Fix display height of empty messages.
4906bc8 docs: Prevent readthedocs from overriding collapse_navigation setting.
57c78da test-documentation: Build docs in parallel.
f1eb9ff gitignore: Add .cache/.
026410d api: Fix a typo in an anchor tag URL.
484ded6 docs: Fix unintentional whitespace in ReadTheDocs homepage.
2b858ab api: Fix code blocks in headings.
2b6587c overlays: Move overlays earlier in index.html.
1b28ddd requirements: Update to new pyoembed release.
4fb7292 message-feed: Add dark mode support for inline code.
874598b left-sidebar: Change icons to be translucent.
5081294 streams: Remove unnecessary font color declaration, change to translucent.
015cd65 message-feed: Change borders from grey to translucent.
7d2607c settings: Change borders from grey to translucent.
30f45ac reactions: Change from grey to translucent.
d13e556 reactions: Remove unecessary color declaration.
e14e61c compose: Change borders from gray to translucent.
83f329b components: Change checkboxes from grey to translucent.
aeed2e6 dark-mode: Remove unnecessary CSS and fix dark mode bugs.
151e5b0 app: Remove column-middle background color.
f5f2175 message-feed: Change private message blue to be translucent.
2d9a570 drafts: Remove unnecessary white background on messages.
53616cc gear-menu: Inherit body color.
a77b41d navbar: Remove background attribute on search bar.
3df96a2 message-feed: Make stream labels inherit color.
ff39aa0 message-feed: Remove white backgrounds on messages.
cd3ea16 navbar: Remove white background.
e0e7c00 compose: Change from grey to translucent black.
3c49002 streams: Fix width bug with stream creation form footer.
1514ea9 streams: Inherit base color rather than redefining text color.
efb7206 settings: Change grey colors to translucent black.
e806300 settings: Use `.modal-bg` class to control background color.
537c1c2 right-sidebar: Remove base color definition.
3ebccda left-sidebar: Make <ul> links inherit body color.
9852861 compose: Change white background to be on #compose.
ca46a21 popovers: Restyle border-bottom below avatar in user popovers.
6049cd2 migrations: Fix conflict.
395f1e9 embedded bots: Add database config storage.
35e60d5 new-feature-tutorial: Add references to Django.
dd037df thumbor: Add dependencies and virtualenv setup script.
66060c7 update-locked-requirements: Add py2 option to compile requirements.
7957679 thumbor: Auto generate thumbor_key and add it to zulip settings.
fa0fb9e casper: Switch to use a newer casper off master.
7b5ae1e node: Update yarn.lock.
41a0fd9 build-release-tarball: Improve help/error output.
780d83e build-release-tarball: Add support for --help.
8dc82f9 python: Wrap long def lines in test files.
4f5b1c0 zerver/tests: Use python 3 syntax for typing in most files.
569cb1d docs: Move readme-symlink symlink to be just called readme.
068912c tests: Add test for default stream group signup flow.
cc55312 tests: Move check_user_subscribed_only_to_streams to test_classes ZulipTestCase.
1b9b142 test_signup: Store return value of sorted.
8b7d78a portico: Add link to chat-zulip-org.html to footer.
f080735 settings: Remove ABOUT_LINK_DISABLED.
d9c2f61 api: Add new endpoint for reactions.
40fca20 droplets: Run git clean -f after creating droplet.
75601f6 droplets: Always rebase instead of merge during git pull.
3828305 error_notify: Try `git describe` too.
41ecdd8 error_notify: Add some idea of the deployed code version.
4b5c52f queue: Prevent an AttributeError rather than swallowing it.
16d06c6 portico-header: Remove border between image and realm name.
0cc8d24 build-release-tarball: Fold away the confusing variable TMP_CHECKOUT.
3d1211e build-release-tarball: Cut a recently-obsoleted comment.
18f9e18 build-release-tarball: Drop likely-bitrotted macOS support.
5a2f3fe build-release-tarball: Reorder a bit for clarity.
93fbffe build-release-tarball: Cut a redundant cleanup step.
09a38ec build-release-tarball: Cut a long-stranded comment.
8d405da build-release-tarball: Use set +x consistently.
92e322a build-release-tarball: Add --authors-not-required.
ae6d30b requirements: Upgrade to fakeldap 0.6.1.
a696141 search: Add more extensive logging for Unicode errors in highlight_string.
66d658d docs: Use `git clone -c` to set `git pull` to rebase by default.
92caa4a docs: Add more troubleshooting cases to Vagrant guide.
1a360ec portico: Add code of conduct features to for/open-source.md.
549401e docs: Update emoji.md to explain new naming scheme.
e1f8d24 lint: Fix tools tests.
6a72fcf docs: Fix outdated bots guide link.
2563f93 test-help-documentation: Pass use_db=True.
cb4acf2 docs: Lint rst files for trailing whitespace.
d9da8f8 lint: Check for absolute/relative link style in developer docs.
bf77ad3 docs: Clean a few files of too-long lines.
0111143 docs: Fix some Markdown links missing a close-paren.
6973f1d docs: Fix unnecessary absolute links in docs/.
7c24e04 lint: Fix long lines in README.md.
8c4651d zerver/lib/actions.py: Fix translation bugs.
638eb7a docs: Update links to ReadTheDocs to always use https.
054952a docs: Update links from codebase to point to ReadTheDocs.
07c2b20 docs: Update absolute links to point to new URLs.
7072fa5 docs: Reorganize developer docs to improve navigation.
3b95a6d bugdown: Fix a bug in the updation logic of markdown engines.
b849c5e bugdown: Remove an unnecessary check in `do_convert()`.
5e5bb02 bugdown: Remove `make_realm_filters()`.
f9f9e92 bugdown: Correct the descriptions of `Bugdown` config.
e615a2a bugdown: Simplify the "opts" parameter of `make_md_engine()`.
e3f2f67 bugdown: Rename `maybe_update_realm_filters()`.
64230b3 populate_db: Remove the 'simple' realm.
98be0cc user-groups: Send delete user group event.
cc76f7d user-groups: Create check_delete_user_group.
79f4a76 user-groups: Send remove members event.
cec3f19 user-groups: Send add members event.
eb48fab user-groups: Send description update event.
5571122 user-groups: Send name update event.
9125053 user-groups: Send create group event.
31efe95 user-groups: Fix function argument bug; pass group.
66179ea bulk_add_members_to_user_group: Pass user group.
5ef3974 user_groups_in_realm_serialized: Sort groups.
a56fca8 setup-certbot: Require hostname and email.
df8548a setup-certbot: Fix the usage message, and add the recently-added options.
8f387ba setup-certbot: Add option to choose verification method.
7c887a6 setup-certbot: Use set -x.
9adaf34 install: Enforce a constraint on the options, and expand usage message.
84f956f certbot: Use --deploy-hook to get the cert actually served.
ae90130 certbot: Control auto-renew with a zulip.conf setting.
dd32348 setup-certbot: Eliminate obnoxious wget spew.
3f1f70f setup-certbot: Treat potential existing certs with kid gloves.
dacf65b certbot: Move verification webroot under /var/lib/zulip .
2afc3b9 certbot: Move path to /usr/local/sbin.
97ec562 certbot: Add certbot renew cron job to puppet.
f02e5b9 cross_realm: Use bulk_get_users to fix handling of missing users.
c7a975e users: Move check_change_full_name to actions.py.
774380d capitalization: Allow enabled/disabled to be lower-case.
03b4a02 user_settings: Fix mypy annotations.
acdc4c9 /team: Improve the responsiveness of the team profiles.
94a14f9 /team: Add padding to content.
0bd0939 /team: Use CSS grid for contributors table.
0a44503 /team: Remove responsive columns hack.
6f955fb actions: Replace stream.add with stream.append in process_new_human_user.
f99fd20 management: Add option to set description of default stream groups.
c84f168 emoji: Display emoji in messages as text as well as reactions.
b76578c Add an experimental dark mode stylesheet.
ce62abc dark-mode: Add "T" hotkey for dark mode theme.
f9f0f35 settings: Add backend storage and interface for night mode.
2b43a03 python: Sort imports in smaller apps.
dc8dd23 tornado: Sort imports in files with no merge conflicts.
10ab941 python: Sort imports in easy files in zerver/.
a996f84 python: Sort imports in zerver/templatetags.
38e9708 python: Sort imports in database migrations.
f04d6ed python: Sort imports in management commands.
73a668e python: Sort imports in webhooks.
c377db7 docs: Update intro text to index.rst.
6a5b965 integrations: Rename HUBOT_LOZENGES to HUBOT_INTEGRATIONS.
3b53c69 integrations: Add integrations/doc/assembla.
8584410 integrations: Remove code for legacy Hubot lozenges.
2c000c0 settings: Increase specificity of sidebar <li> selector.
f7d23ee docs: Make minor updates to CONTRIBUTING.md and README.md.
744c4af left-sidebar: Remove topics help code.
e54b973 Reduce python files line length limit to 110.
bafba95 Text-wrap the remaining long lines exceeding 110.
09af29b zerver/lib: Text-wrap long lines exceeding 110.
d3914a5 confirmation: Text-wrap long lines exceeding 110.
5aa6751 lint: Fix long lines in newly added features.
dbcc76b Fix MissedMessageWorker.
e85d074 tools/test-help-documentation: Verify api/ docs.
9dd5d6e api: Fix broken links detected by new tests.
b31917b frontend: Remove redundant stream separator in the left sidebar.
5ef09bf docs: Move bot docs to /api.
da67c61 docs: Fix typo in plans.html
8a46ddf dev_settings: Add localhost:9991 as realm host for zulip realm.
2d73d3d docs: Move license declaration from README.md to LICENSE.
c019c1b docs: Update chat-zulip-org.md.
df8e156 docs: Reorder sections in chat-zulip-org.md.
87b470f docs: Remove information on office hours and sprints.
ee2ea37 docs: Split a CONTRIBUTING.md out of README.md.
7e9273b docs: Stop recommending the dev environment in prod.md.
ae5ba7f Add a couple cross-realm bots.
415da35 prod install: Cut premature suggestion to configure auth backends.
f756f55 docs: Rename docs/README.html to docs/documentation.html.
36f2976 emails: Add option to forward mails send in dev env to external email.
ac763d6 tools: Remove obsolete build-deb tool.
d2555e8 api: Add support to change name of default stream groups.
2af249d api: Add description attribute to default stream group.
f45ba7d api: Pass group id instead of name to default stream group api.
9565ea4 python: Add settings for isort.
d2d1459 requirements: Add isort development dependency.
4755eca docs/dev-env: Recommend setting up lxc network config on Debian.
d5a3691 media: Display stream list filter at full width.
940ca17 hotkeys: Expand collapsed sidebars when sidebar searches are initiated.
7d2672c popovers: Include expanded mobile sidebars as active popovers.
a047584 docs: Use parallelism when building docs.
cceba20 Use makedirs directly instead of wrapping it in mkdirs.
72ce1c6 Use a more concise `mkdir -p` when the situation permits.
a86968c landing_nav: Fix missing login_link_disabled check.
99ecb51 minor: Add whitespace after commas in CSS.
f35b7b4 css: Convert colors to hsl() format.
ba51078 Simplify CSS linter and clean up CSS.
7e2b452 user-groups: Add composebox_typeahead tests.
597a6e6 user-groups: Add user groups in typeahead code.
0e21cbc user-groups: Create static/js/user_groups.js.
ad8f565 user-groups: Generate test data of user groups.
50eb3be droplets: Remove ip_address default value from create_dns_record.
7b4124b portico-header: Add background to avatar images.
25bf15a bots: Use non-generic exception for state key removal.
8fccf36 bots: Wrap StateError exceptions around BotUserData exceptions.
d707e3b bots: Add USER_STATE_SIZE_LIMIT setting.
545c73c bots: Rename StateHandlerError to StateError.
7137261 bots: Validate state size limit directly in set_bot_state().
6c543d1 bots: Make StateHandler test more accurate.
9921971 markdown_test_cases: Fix annoying whitespace issue.
54aa87f api: Migrate to using the new version of the API site.
01a8dd0 docs: Update our changelog.
3a77e20 markdown: Fix now-buggy test case.
ca2f93d settings: Restyle "emoji style" section.
439bc29 settings: Change the control for selecting emojiset to radio group.
4d51a6c bugdown: Fix $$ whitespace handling.
b88ba90 docs: Make minor updates to chat-zulip-org.md.
d1f0d2b docs: Update the pitch at the top of README.md.
a23378a check_short_string: Verify string before checking length.
72eba6a mypy: Adjust validator.py to use object rather than Any.
331a3c3 mypy: Migrate validator.py typing to python3 syntax.
8e87eb4 zerver/lib/bugdown: Text-wrap long lines exceeding 110.
a93b7c4 zerver: Text-wrap long lines exceeding 110.
23a481c zerver/lib/actions.py: Text-wrap long lines exceeding 110.
f397e15 tools: Text-wrap long lines exceeding 110.
7a96b8c tools/lib: Text-wrap long lines exceeding 110.
53e37aa scripts: Text-wrap long lines exceeding 110.
51c1a6d analytics: Text-wrap long lines exceeding 110.
07e6a4f droplets: Add wildcard A records to support realm subdomains.
4a102b2 droplets: Set EXTERNAL_HOST to username.zulipdev.org:9991.
f44b60a Implement API for default stream groups.
5ff690d zulip-export: Convert to using argparse from optparse.
f689813 test-js-with-node: Port from optparse to argparse.
9c2cab5 test_docs: Verify that all of our integrations/ docs are rendered.
5ae4b8d input-pill: Add clean up functions.
70a14d8 bootstrap: Patch bootstrap.js to support contenteditable.
1bb45dd hotkey: Prevent hotkey interactions with pills.
00d11fb input-pill: Add styling.
74d91bf input-pill: Add `onpillcreate` method.
5a0bba2 input-pill: Add validation callback for pills.
5d0aae2 input-pill: Add key/value caching.
93141cb input-pill: Have all clicks directly on container focus input.
7b00736 input-pill: Add "input_pill" class and documentation.
d278823 hotkeys: Refactor text selectors to be array.
032fad2 queue_processors: Add error coverage for MessageSenderWorker.
d957169 queue_processors: Add coverage for get_active_worker_queues().
d3bee4f queue_processors: Exclude various lines from coverage.
7777a81 queue_processors: Add full coverage for SlowQuery.
1bcc07f popovers: Add bot icon to user profile popovers for bots.
a3e5f2a message view: Use new custom bot icon in messages.
0b800b0 icons: Create framework for custom icons and add new bot icon.
b6ebead tests: Add test_raw_unread_stream().
23f7615 tests: Add test_raw_unread_huddle().
db8c69f tests: Add test_raw_unread_personal().
5a99fa4 tests: Extract GetUnreadMsgsTest.mute_(stream,topic) helpers.
f54146b mypy: Add RawUnreadMessagesResult type.
c799ec0 minor: Inline get_unread_message_ids_per_recipient().
e062b24 requirements: Remove unused `diff-match-patch` package.
8480deb integration docs: Fix broken desk.com markdown.
325ca0d integration docs: Fix broken Stripe markdown.
4c6a376 user-groups: Add groups to page_params.
ef545b9 user-groups: Add css for user-group-mention class.
b1603d2 user-groups: Add update members API endpoint.
a1b894a user-groups: Add delete API endpoint.
eeaf0f1 user-groups: Add edit API endpoint.
1bbe84a user-groups: Add create API endpoint.
39ca388 user-groups: Add description to groups.
18aecb8 user-groups: Get members from membership.
7798aae queue processors: Add full coverage for DigestWorker.
dac44dd Cover users without activity record in email queue digest tests.
970e8c5 queue processors: Add full coverage for FetchLinksEmbedData.
bcd575d bugdown: Rewrite links to local server to be relative links.
982bd9c Fix push notifications for soft-deactivated users.
c99d20d push_notifications: Shrink scope of try/except block.
3ac09b3 queue processors: Add coverage for SlowQueryWorker.
25c669d queue_processors: Extract LoopQueueProcessingWorker class.
64b4d83 push_notifications: Improve debugging of lookup problems.
7477fbb docs: Remove dangling </p> tag.
8084f2d Add: Profile picture popover on clicking mentions in chats.
9b723c7 Use encode() in zerver/lib/logging_util.py.
3158ed0 Remove force_str() in upload.py.
531a3ee refactor: Fix parse.quote(force_str(s)) calls in bugdown.
8eaeba8 refactor: Remove dict_with_str_keys().
b0bb09c Remove force_text() in get_signed_upload_url().
7da6bea Remove force_text() in upload.get_file_info().
a9f42e6 Remove force_text() from sanitize_name().
17cfead Remove force_text() in twitter_text().
585829f Remove force_text() in list_of_tlds().
da27448 Don't use force_bytes() in decorator.py.
63024b3 Use encode() in zerver/lib/message.py.
d42478b Use encode() in zerver/lib/response.py.
64dc9e6 Use encode() in zerver/lib/tex.py.
7821cb3 Avoid unneeded force_text() in make_safe_digest().
17200bf tests: Simplify test_classes.fixture_data().
5d3ecf8 Remove force_str() in log_event().
c38996d Remove unused force_text import.
786e90d Removed unused imports of force_bytes.
a77cdaa Remove force_text() in get_url_data().
66b42e0 Remove unused import in app_filters.py.
50e3285 tests: Remove force_text() in test_messages.py.
de67bf8 org settings: Allow users to delete their message.
88a828d Remove six.moves.urllib usage.
5ee40bf Remove usage of six.moves.binary_type.
5937141 Remove usage of six.moves.string_types.
bb46bea Remove usage of six.moves.text_type.
65838bb email_gateway: Disable code block processor for email gateway.
d7254a0 Append space as needed in compose_ui.smart_insert().
f935afa Prepend space as needed in compose_ui.smart_insert().
1b1858a node tests: Test compose_ui.smart_insert().
12dc567 Move insert_syntax_and_focus() to compose_ui.js.
19bc55a Fix various typos.
4817ba4 tab-switcher: Switch tabs with left/right arrows.
5b86b65 message-feed: Do not autoscroll new messages if popovers open.
0386c67 api: Fill out the sidebar with sections.
a8c735e /api/: Fix some headings.
d2e55fa /api/ & /help/: Change index to <h1>.
228b0c4 /help/: Add a slide class for sidebars that should have slide mechanism.
670f202 /api/: Fix incorrect sidebar styling.
04f4f71 zerver/tests: Use python 3 syntax for typing.
fec59b2 Tools/mypy: Enforce typed generics in tools/run-mypy.
790cd5e mypy: Specify generic type parameters in cachify decorator.
94554c6 certbot: Modify nginx configuration to support automated renewal.
38dc43f certbot: Use --standalone mode during installer.
62bb465 puppet: Modify lb0 nginx configuration.
dfb3597 left-sidebar: Remove leading whitespace underline on global filters.
c3b8984 node tests: Use zrequire in typing_status.js.
0fc20bf node tests: Use zrequire in typing_data.js.
c32f69b node tests: Use zrequire in topic_data.js.
1dc5218 node tests: Use zrequire in rtl.js.
f65d331 node tests: Use zrequire in recent_senders.js.
34bddd2 node tests: Use zrequire in pm_conversations.js.
99695da node tests: Use zrequire in people.js.
6304aea node tests: Use zrequire in hotkey.js.
bf0ed59 node tests: Use zrequire in common.js.
adb02b3 node tests: Use zrequire in colorspace.js.
e0fa317 node_tests: Remove unneeded var statements.
bef176f node tests: Use zrequire in channel.js.
7a68add Remove unneeded requires in activity.js.
cdc1bf3 node test: Remove add_dependencies().
a1c5b09 node tests: Use zrequire in util.js.
8cdd08a node tests: Use zrequire in user_events.js.
9b9ff5c node tests: Use zrequire in unread.js.
c233bb5 node tests: Use zrequire in typeahead_helper.js.
c38081b node tests: Use zrequire in topic_generator.js.
de341e8 node tests: Use zrequire in timerender.js.
83c9b11 node tests: Use zrequire in templates.js.
4ef8df1 node tests: Use zrequire in subs.js.
b3bfca9 node tests: Use zrequire in stream_sort.js.
c12d462 node tests: Use zrequire in stream_events.js.
2c1a855 node tests: Use zrequire in settings_org.js.
9489c5d node tests: Use zrequire in settings_bots.js.
f720aad node tests: Use zrequire in server_events.js.
19ca4bf node tests: Use zrequire in search_suggestion.js.
5db2f3e node tests: Use zrequire in reactions.js.
23313f2 node tests: Use zrequire in presence.js.
14631b8 node tests: Use zrequire in password.js.
65dc6a0 node tests: Use zrequire in narrow_state.js.
2fac1fe node tests: Use zrequire in muting.js.
8f0b396 node tests: Use zrequire in message_store.js.
180f910 node tests: Use zrequire in message_list_view.js.
98c4ee3 node tests: Use zrequire in message_list.js.
84f5470 node tests: Use zrequire in message_edit.js.
ba79558 node tests: Use zrequire in markdown.js.
914cf17 node tests: Use zrequire in i18n.js.
1ba0315 node tests: Use zrequire in hashchange.js.
b277550 node tests: Use zrequire in filter.js.
ad59600 node tests: Use zrequire in emoji_picker.js.
c307356 node tests: Use zrequire in emoji.js.
f6f227d node tests: Use zrequire in drafts.js.
15e21f0 node tests: Use zrequire in dispatch.js.
2ea4a20 node tests: Use zrequire in composebox_typeahead.js.
3aa2c22 node tests: Use zrequire in compose_fade.js.
a7a6f68 node tests: Use zrequire in compose_actions.js.
4d814c0 node tests: Use zrequire in compose.js.
e63dd59 node tests: Use zrequire in bot_data.js.
640b0d5 node tests: Use zrequire in alert_words.js.
b066581 Use stub_i18n in templates.js.
eff9f61 node tests: Use stubbed i18n in message_list.js.
c9d438d linter: Add example lines for several python rules.
dbc1f83 linter: Make string formatting custom rule more complete.
816c4a4 mypy: Fix typo in type statement.
88794ea linter: Fix tests ignoring rules with `include_only`.
5703b38 api: Move usage instructions to their own page.
c869ed2 api-docs: Extract installation instructions to their own section.
67d85ca api-docs: Clean up reference to bin/ in the tarball.
ac63be7 api-docs: Fix space in zulip-send instructions.
7c113f0 api-docs: Render api_url in /api docs.
6d48601 api-docs: Use proper indentation for code blocks.
4108797 Eliminate the parse_usermessage_flags interface.
ae0b27a Extract messages_for_ids.
70f2cd2 De-duplicate is_search logic in get_messages_backend().
c62588c minor: Use dict comprehension in get_messages_backend().
47c6321 tests: Add test_include_history().
a8a159c mypy: Fix variable reuse in streams.py.
7e13d74 tornado: Fix hardcoding of URI scheme in sockjs_url.
04eaec6 zerver/webhooks: Text-wrap long lines exceeding 110.
2968353 zerver/views: Text-wrap long lines exceeding 110.
22e1456 zerver/tornado: Text-wrap long lines exceeding 110.
548c96a zilencer: Text-wrap long lines exceeding 110.
900cd13 docs: Link to postgres documentation for SSL modes.
dd10d30 docs: Add setting to conf.py to disable sticky_navigation
c2860ce Set client_gravatar=True in the webapp.
8616a4e Use client_gratavar=True for users on in page_params.
a076581 Use client_gravatar=True for avatar URLs in page_params.
8242c15 zerver/lib: Remove unused imports (F401).
17a1999 analytics/tests: Remove unused imports (F401).
fa09076 analytics/management: Remove unused imports (F401).
b557b02 analytics/lib: Remove unused imports (F401).
c4f0915 corporate: Remove unused imports (F401).
047eca1 zproject: Remove unused imports (F401).
995b300 zilencer: Remove unused imports (F401).
3c083a9 confirmation: Remove unused imports (F401).
926f0a7 zerver/tornado: Remove unused imports (F401).
d6aa7f7 zerver/management: Remove unused imports (F401).
54ac11f left-sidebar: Fixup line height issues with unread counts.
15b3a8e email change: Use confirmation object user to determine changeability.
4fc8aa2 email change: Refactor confirmation path for readability.
6fbb7e8 email change: Remove confirmation_key.lower() from confirm_email_change.
1823d46 unsubscribe: Use a custom confirmation error page.
c2f1f54 help: Fix indentation of code blocks in desktop install guide.
9930cb4 stream_settings: Add loading spinner when creating a new stream.
17f3cbb Revert "static: Optimize SVG images."
417f92c markdown: Remove now-obsolete bugdown_matches_marked.
34667e7 markdown_test_cases: Clean bugdown_matches_marked from the tex cases.
4194dcf mypy: set SubSuiteList to inherit from typed List.
9655c4f mypy: Amend type of bad_stream_content within test_bad_narrow_stream_content.
8a0d4e6 mypy: Improve typing of test_narrow.py:exercise_bad_narrow_operand.
1dcc981 mypy: Add explicit Any type parameters for embedded data Dicts.
d038bf8 mypy: Adjust pivotal/view.py function parameter type based on body.
6a1786d mypy: Clarify return type of _check_messages_before_archiving.
88424be mypy: Clarify types in add_missing_messages in soft_deactivation.py.
3c63367 delete: Fix bug in appearance of popover in mobile-screen.
576be51 message feed: Change sub button styling to new style.
95f34b2 left-sidebar: Increase line-height to not cut off text bottom.
c5eaf30 left-sidebar: Allow for more space for unread counts.
fa70166 refactor: Remove six.moves.https_cookies import.
01eb22a refactor: Remove all the remaining six.moves import.
9c7d581 refactor: Remove six.moves.urllib.parse import.
ccf2792 refactor: Remove six.moves.configparser import.
de319b4 refactor: Remove six.moves.StringIO import.
6b12fe2 refactor: Remove six.moves.input import.
14671fc refactor: Remove six.moves.zip_longest import.
6cce0e3 refactor: Remove six.moves.filter import.
80a8d4f refactor: Remove six.moves.map import.
549a268 refactor: Remove six.moves.range import.
ec5120e refactor: Remove six.moves.zip import.
19bd335 Change urllib import to be Python 3-specific.
8450f0e Register client_gravar=True for the webapp.
2bbfda0 Support client_gravatar field for event registration.
f105c48 Calculate gravatar hashes on the webapp client.
3462127 Improve test_client_info_for_normal_users().
0177762 Improve test_get_events_narrow().
88e1e28 Restructure send-message code for gravatars.
2a6c651 refactor: Don't shadow message_dict in process_message_event().
5be13fb Add cachify decorator.
7e4702c Avoid double-escaping HTML for settings notifications.
567da07 i18n: Translate strings in settings_account.js.
2b6fee3 i18n: Translate deactivation errors in the webapp.
aa61db9 Change warn -> error in people.report_late_add().
02a011d Add people.report_late_add().
aebfdaa refactor: Use early-return in extract_people_from_message().
294a1fb refactor: Extract people.maybe_incr_recipient_count().
c291c74 minor: Make comment more accurate in popover error condition.
5271241 Read page_params.realm_non_active_users() at page load.
b492f35 tests: Extract node_tests/people_errors.js.
48b18e4 Only show active realm users in compose typeahead.
a61a127 integrations: Update twitter bot commands.
c8e87a3 queue processors: Exclude TestWorker from coverage.
0709033 bugdown: Fetch complete data for tweet.
c5ff020 droplets: Garbage collect A records before creating droplet.
dec4b9e remote dev: Add code and instructions for creating digital ocean droplets.
b31af80 requirements: Update comments output by update-locked-requirements.
e3eebf3 Remove inheritance from object.
8990b10 zerver: Remove inheritance from object.
2ceb0b4 zerver/tornado: Remove inheritance from object.
c7fa1d4 zerver/tests: Remove inheritance from object.
864e16f zerver/migrations: Remove inheritance from object.
e311842 zerver/lib: Remove inheritance from object.
0e71b24 zilencer: Remove inheritance from object.
e33c8d9 zproject: Remove inheritance from object.
5cfffb0 analytics: Remove inheritance from object.
7a6e0dd static: Optimize SVG images.
d94a84e static: Remove unused images.
42f5eea mypy: Improve typing of request.pyi (REQ).
dd1920c confirmation: Use python 3 syntax for typing.
ada9979 docs: Use python 3 syntax for typing.
26b6b89 zproject: Use python 3 syntax for typing.
77f32a1 frontend_tests: Use python 3 syntax for typing.
0d31cb5 mypy: Broaden some types from Dict to Any based on context.
055dff9 mypy: Clarify parameter types in test_decorators.py.
6e6b1ce mypy: Explicitly inherit test_[sequence|mapping] test classes from generic types.
3fd720d mypy: Broadly specify lambda type parameters in test_events.py.
aae8a03 mypy: Explicitly specify Dict[str, Any] as DummyForm base type.
2a2870e mypy: Fully specify type of Callable parameter to process_instrumented_calls.
b0e9fd7 mypy: Specify type of decorator correctly in test_logging_handlers.py.
f3b5b9d mypy: Specify Callable parameters in FakeClient functions in WorkerTest.
6f49039 mypy: Set explicit Any-like parameters for StatsMock functions.
692e215 mypy: Explicitly specify List[Any] in test_classes.py.
792a580 mypy: Specify Callable type parameters in test_helpers.py.
952f034 mypy: Set explicit Any-like parameters for handle_callback_exception in runtornado.py.
186181c mypy: Specify type parameters in convert_term in narrow_parameter.
da97de3 mypy: Use Dict[Any,Any] for update_realm parameter.
720df64 mypy: Set freshdesk TicketDict to inherit from typed Dict.
6c995db mypy: Use Iterator[Any] as return type of queryset_iterator.
1197ff9 mypy: Explicitly return Set[Any] for empty set in backends.py.
54cbb80 mypy: Add explicit Any parameters to get_user_events return type.
fed7574 mypy: Clarify type of lookup_dict in aggregate_message_dict.
b693f32 mypy: Add Dict parameters for dropbox_image return type.
737408f mypy: Add explicit flexible type parameters for Callable in run-dev.py.
9f90a31 mypy: Add explicit Any as Dict parameters in check_line_coverage in test-js-with-node.
221be32 mypy: Set type parameters for IO to Any in scripts/lib/node_cache.py.
abc0d5e mypy: Add type parameter for Set in check_help_documentation.py.
a5d1fdf mypy: Add type parameter for IO in test-queue-worker-reload.
458ab30 mypy: Add explicit Any for generic types in type_debug.py.
ff2f55e docs: Add some basic coverage of our mypy Python 3 situation.
671c3de mypy: Fix type annotation style in webhook walkthrough.
969cc50 zerver/webhooks: Use python 3 syntax for typing.
68b0a41 decorator: Cut a bunch of dead imports of two view decorators.
6b9d294 auth: Set user_activity `query` nicely for several auth views.
b2d3587 decorator: Set the user_activity query in another case.
1a54024 require_server_admin: Cut a redundant bit of request-mutation.
b871aa9 user_activity: Allow passing the `query` more directly.
732a5ba analytics: Fix checks for pointer update route.
dac67eb mypy: Remove un-necessary comment re mypy issue #3145.
7d6d8fc mypy: Improve type annotation of run_parallel in zerver/lib/parallel.py.
05ef052 mypy: Improve typing in custom_check_file() in custom_check.py.
d637330 mypy: Return AdminZulipHandler in test_logging_handlers.py.
be856ba mypy: Reduce use of Any in zerver/lib/url_preview/ return types.
b972b08 markdown_test_cases: Clean cases where bugdown_matches_marked is false.
f63585b hotkeys: Ensure navigation hotkeys do not work while overlay is open.
e7de4f5 hotkeys: Modify draft toggle behavior.
fef7d6b zerver/lib: Remove u prefix from strings.
5d04e29 confirmation: Add comment for registration.confirmation_key.
6e02ce8 unsubscribe: Use get_object_from_key for confirmation.
fdbe366 confirmation: Add confirmation_type to get_object_from_key.
608a594 docs: Update desktop app version to stable
957e1c2 mypy: Fix buggy import setup for embedded bot tests.
c3db951 tornado: Delete fake_message_sender.
eade4d0 tornado: Use call_consume_in_tests for message_sender queue.
f382875 embedded bots: Add full test coverage for queue processor.
3985cae outgoing webhook bots: Add message flow tests.
8432832 outgoing webhook tests: Simplify response mock.
909631b docs/oauth: Update for Google UI changes, and for zulipdev.com.
eafb82a docs: Move docs on testing OAuth to their own page.
119bc14 alias domains: Add a v1 of this feature.
b33d981 settings: Simplify setting ALLOWED_HOSTS, by handling EXTERNAL_HOST.
31302c3 integrations/redmine: Clean up a bit of grammar in the docs.
e9a4596 integrations/hubot: Fix URL in example config.
9767029 Allow generic bots to be mentioned.
2155b25 service bot tests: Remove bot stream subscription.
aaaed74 webhooks: Import REQ, has_request_variables from zerver.lib.request.
20f3e9b webhooks/gci: Support 'needswork' event_type.
9969a3a webhooks/gci: Replace 'type' -> 'event_type', 'uuid' -> 'id'.
839b427 zerver/management: Remove u prefix from strings.
dc37e3f zerver/migrations: Remove u prefix from strings.
38acdde zproject: Remove u prefix from strings.
be2a720 refactor: Replace %r with %s in string representations of classes.
dcc831f refactor: Replace all __unicode__ method with __str__.
e51d98c refactor: Remove usage of ModelReprMixin.
4af9e11 left-sidebar: Add overflow ellipsis on long stream names.
c9af964 list_render: Add sorting reversal.
26dd785 list_render: Use correct arrow for ascending.
fd19743 settings: Fix scrolling on settings page in narrow height windows.
85f605a Fix bug with EmailLogBackend.send_messages.
ad374ad css: Fix improper indentation to fix Travis test failure.
6a4e7ad user settings: Enhance Uploaded files sorting.
5d9327a user settings: Improve Uploaded Files design.
3ed707c docs: Add more detail on the apt upgrade process and postgres.
1432e9a Revert "vagrant: Switch Virtualbox to use NFS for syncing files."
44bff43 actions.py: Rename `do_remove_reaction()` to `do_remove_reaction_legacy()`.
233595b actions.py: Rename `do_add_reaction()` to `do_add_reaction_legacy()`.
636046a user-groups: Add basic backend for UserGroup model.
5914afc cleanup: Use a single loop in do_send_messages.
9689168 Simplify highlight_string logic.
6df65ab team: Tweak some text.
d27002b landing-page: Replace /about with /team and /history in links.
425738f landing-page: Extract /team/ from /about/.
4d7f1e7 vagrant: Switch Virtualbox to use NFS for syncing files.
d6df408 search: Add tests for multiple unicode search operands.
04a7980 models: Fix typo in comment.
5e3ba1f mypy: Fix an unnecessary duplicate type declaration.
ee61e1b search: Fix misaligned highlights due to unicode characters.
8f9463b test_bugdown: Check for unknown keys in markdown_test_cases.json.
6f029d4 tests: Change test_content to text_content in markdown_test_cases.
aab0eeb popovers: Hide opened popover on navigating back.
5ec8559 mypy: Constrain return types to match in test_runner.py.
966d5f3 mypy: Specify Callable parameter/return type for run decorator in tools/diagnose.
7d8de37 mypy: Specify librato Callable type.
7288451 mypy: Slightly clarify Callable parameter to WebsocketClient.__init__.
452802b mypy: Add Callable parameters/returns to AsyncDjangoHandler in handlers.py,
5357c2e mypy: Reduce use of Any in UserPresence static methods.
7f5b69b mypy: Clarify Callable parameters & return type for get_timing.
304e411 mypy: Remove unused FuncT TypeVar in cache.py.
48662a7 clean-venv-cache: Fix an exception with unusual deployment dirs.
9bf81b7 api: Fix /api/endpoints/ javascript for now.
8c9ea94 scripts: Fix an issue in `purge-old-deployments` script.
493529d compose: Fix node test failure from video link integration.
3104d3e api: Fix rendering of code blocks after clicking sidebar links.
f01f596 help: Merge api.js and help.js bundles to fix code blocks.
e86e259 /api/: Add Markdown-based /api-new documentation.
31ea495 test_uploads: Extract 'use_s3_backend' to test helpers.
269cd3b tests: Remove work around for non-writeable name property of StringIO.
26edde2 alias domains: Tweak a test helper that assumes hosts are subdomains.
22e5110 subdomains: Dedupe out the last copy of Realm.host_for_subdomain.
eb55a3a template context: Give better names to the URLs for the API.
271a9f0 settings: Eliminate disused variable EXTERNAL_API_URI.
aeb69df template context: Eliminate now-constant variable `api_site_required`.
bf1395b template context: Eliminate the disused variable `external_api_path`.
7366a4c settings: Eliminate the disused EXTERNAL_API_PATH.
fef828a compose: Add video link button, powered by Jitsi.
bb80c0c compose_state: Extract insert_syntax_and_focus.
d1a5e0c compose: Move formatting help further left in icon row.
72774de compose: Wrap more message control button icon lines.
1ac2360 mypy: Fix QuerySet -> QuerySet[Subscription].
faba34d Simplify bulk_remove_subscriptions().
48d1325 Make `our_realm` explicit in `bulk_remove_subscriptions`.
c4fcff7 refactor: Replace super(.*self) with Python 3-specific super().
d140451 html_diff: Migrate from `Text` to `str`.
c863bb8 html_diff: Migrate to use lxml.
c160c06 bot_storage: Fix missing test coverage.
692db3f embedded bots: Move StateHandler query logic to separate file.
acb0b6e process_fts_updates: Fix pgroonga search in development.
aea33fc Fix a comment typo in zerver/middleware.py.
2d0daff tests: Verify query counts for stream deactivation.
08ad26f refactor: Extract get_stream_subscriptions_for_users().
b3192d1 refactor: Extract get_stream_subscriptions_for_user().
a274751 Extract StreamTopicTarget.get_active_subscriptions().
8e0b417 Extract get_active_subscriptions_for_stream_ids().
126e14d Add zerver/lib/stream_subscription.py.
138568f refactor: Extract get_stream_recipients().
f64c780 Extract get_huddle_user_ids().
8c9579e webpack.assets.json: Add a custom JS bundle for /api.
6933d51 views/integrations: Change non-generic HelpView to MarkdownDirectoryView.
4cb3cdb markdown: Add the "extra" Markdown extension to app_filters.
63335fd mypy: Correct return_success_on_head_request typing.
0781237 mypy: Improve typing to profile.py & remove FuncT from decorator.py.
1cc0a3c mypy: Improve constraint on return types in statsd_increment decorator.
1871d6f minor: Remove unnecessary path juggling in `get_recent_deployments()`.
669517c docs: Clarify 1.6-and-below instructions for upgrade-zulip-from-git.
11ab545 install: Set the locale so our dependencies can install.
f5fcbe4 Use get_stream_recipient() in test_narrow.mute_stream().
8302689 Extract Message.is_stream_message().
8b012c6 Extract get_personal_recipient().
6421151 Avoid mutation in get_recipient_from_user_ids.
370ffe3 Extract get_huddle_recipient().
a28841e Extract get_stream_recipient().
b7a9068 mobile: Update docs and portico URLs to point to new Android app.
5020ba4 emoji: Allow users to change emoji set.
56f26c2 zproject/settings.py: Correct emoji sprite CSS files.
4c077a7 notifications: Instead of regex use lxml for fixing emojis.
1067cfd node_modules: Add npm packages for the supported emojisets.
d132c30 Remove `active` parameter from `do_create_user()`.
d6c4757 Eliminate ZulipTestCase.send_message().
c978464 tests: Fix send_message calls in test_user.py.
610d9b4 tests: Fix send_message calls in test_unread.py.
a20bba0 tests: Fix send_message calls in test_tutorial.py.
bb42004 tests: Fix send_message calls in test_subs.py.
fba7542 tests: Fix send_message calls in test_soft_deactivation.py.
6475b25 tests: Fix send_message calls in test_signup.py.
f264bbc tests: Fix send_message calls in test_service_bot_system.py.
8276442 tests: Fix send_message calls in test_retention.py.
1f077f7 tests: Fix send_message calls in test_reactions.py.
74943b4 tests: Fix send_message calls in test_notifications.py.
26e51c0 tests: Fix send_message calls in test_narrow.py.
5c00bbc tests: Fix send_message in test_message_edit_notifications.py.
cf1a454 tests: Fix send_message calls in test_link_embed.py.
fd9d919 tests: Fix send_message calls in test_home.py.
1c38130 tests: Fix send_message calls in test_export.py.
3e31983 tests: Fix send_message calls in test_events.py.
25379a3 Fix send_message calls in test_embedded_bot_system.py.
4372bfb tests: Fix send_message calls in test_bugdown.py.
7cf5be2 tests: Fix send_message calls in test_alert_words.py.
53ad627 tests: Fix send_message calls in test_event_queue.py.
9c90c40 tests: Fix send_message calls in test_upload.py.
f2e3e77 mypy: Properly annotate generic_bulk_cached_fetch.
73c27e1 cache: Fix type aliasing of cached_objects.
94c1da7 cache: Move generic_bulk_cached_fetch typevars up a bit.
5b5dffe get_messages_backend: Tweak how search fields are added.
6c24237 bugdown: Remove unused caching imports.
232bcd9 mypy: Improve return type of internal_notify_view decorator.
5c3af83 mypy: Improve return type of api_key_only_webhook_view decorator.
c063ba7 mypy: Improve typing of cache_with_key and cache decorators.
2e69d4d mypy: Fix type for per_request_display_recipient_cache.
fa55d7e retry_event: Remove requirement of failed_tries being already there.
8b6b4e0 install: Add option to get certs via certbot.
fe2adee hotkeys: Fix ESC removing message feed focus in Firefox.
0d11948 mypy: Remove ignores for a few typeshed bugs fixed upstream.
bfa148a requirements: Update mypy to latest version.
e102c42 requirements: Upgrade moto to 1.1.24.
43dd26c requirements: Upgrade Twisted to 17.9.0.
ea58830 requirements: Upgrade Sphinx to 1.6.5.
cd90e1a requirements: Upgrade six to 1.11.0.
f5f94bd requirements: Upgrade setuptools to 36.6.0.
5c51d19 requirements: Upgrade pyasn1 and pyasn1-modules.
c04cde6 requirements: Upgrade psycopg2 to 2.7.3.2.
0291214 requirements: Upgrade pip-tools to 1.10.1.
e1aabfc requirements: Upgrade Pillow to 4.3.0.
7fc2e1a requirements: Upgrade oauthlib to 2.0.6.
c535816 requirements: Upgrade lxml to 4.1.0.
308212c requirements: Upgrade ipython to 6.2.1.
db0cd70 requirements: Upgrade html2text to 2017.10.4.
e96611a requirements: Upgrade google-api-python-client to 1.6.4.
cd06447 requirements: Upgrade django-auth-ldap to 1.2.16.
0140a34 requirements: Upgrade django to 1.11.6.
00331ad requirements: Upgrade cryptography to 2.1.2.
92f482a requirements: Upgrade cffi to 1.11.2.
af4185e requirements: Add simplejson.
3abe92f requirements: Update version of pyombed to fork with bs4 bug fixed.
095a3ec requirements: Fix missing simplejson dependency.
090563f test_tornado: Fix IOLoop exceptions output spam.
f790e66 test_tornado: Fix repeated autoreload configuration in tests.
aacafd7 test_tornado: Fix incorrect tearDown method for IOLoops.
49d7d49 test_narrow: Fix sqlalchemy warning spam.
d80d15c GoogleSubdomainLoginTest: Suppress unnecessary logging output.
e5df05f tests: Suppress logging spam in email mirror tests.
a1fa7a3 JWT: Filter out logging.warning output in tests.
fca6df0 test_home: Mark a couple tests as explicitly slow.
28b25a6 test_events: Mark several slower tests as explicitly slow.
ef96796 test_docs: Fix unnecessary info-level logging in tests.
e19312b Fix zerver.lib.digest log being printed in tests.
073c81b slow_tests: Increase limit for TOO slow notices.
e8ab7cd logging: Fix zulip.send_email log being printed in tests.
80a9253 attachments: Remove unnecessary use of REQ.
5467296 decorators: Use human_users_only more aggressively.
1cd0172 views: Fix imports of REQ/has_request_variables from the wrong place.
25251e0 /about/: Create a team partial.
6d403ff tests: Simplify set_http_host to dedupe its logic.
e4b4f67 subdomains: Tighten search for EXTERNAL_HOST in get_subdomain.
1b19af2 subdomains: Write some tests for get_subdomain.
d9cb606 oauth: Find a better name for redirect_to_main_site.
ad55142 auth: Factor out some uses of EXTERNAL_HOST with ROOT_DOMAIN_URI.
318682f auth: Use URL rather than cookie to pass signed data cross-domain.
6efcce9 oauth login: Refactor tests to dedupe a bit of recurring logic.
fad3d56 views: Move some login code from `registration` to `auth`.
09cd47c Add UI for viewing and cancelling open Zulip invitations.
b831df8 Vagrantfile: Do "set +x" a bit before the end.
a9d1042 Vagrantfile: Fix some incorrect indentation in shell script.
8d00111 vagrant: Skip the shell virtualenv warning on provision.
237e3cd registration: Clarify comment on do_activate_user code path.
8c68a16 backend: Allow Administrators to invite new users as admins.
4b78f69 tests: Introduce send_huddle_message().
9707767 tests: Introduce send_personal_message().
25a6fbd tests: Introduce send_stream_message().
9576d25 Use check_send_stream_message in test_not_too_many_queries.
abf16a9 Rename subject -> topic_name in assert_stream_message().
c4404ed tests: Change some test topic names to not use "subject".
65b6676 minor: Remove unused import (internal_send_message).
655f37a Rename subject_name in send_message_backend().
e5c5d10 Rename subject vars in do_update_message().
fbe5f93 Rename subject -> topic_name in internal_send_message.
973ee97 Rename subject -> topic_name in internal_prep_message().
f04550d Rename subject -> topic_name as var in check_message().
70b0599 Rename subject_name -> topic_name in check_send_message().
45c21b7 settings ui: Restrict file type for image file pickers.
64025d2 integrations: Add Errbot documentation.
84790f8 gitattributes: Set .jpeg files as binary.
cab39dc get_service_bot_events: Add some future-proofing.
b897c76 get_recipient_info: Simplify active_user_ids construction.
a70ede6 Allow "default" bots to see mentions on all streams.
53dbcbe refactor: Handle service bot mentions earlier in the code.
87b48f7 Add MentionData.get_user_ids().
8ac26df refactor: Introduce bugdown.MentionData class.
45e8ce5 zerver/views: Use python 3 syntax for typing.
1047733 zerver/tornado: Use python 3 syntax for typing.
e296841 tools/documentation_crawler: Use python 3 syntax for typing.
2aefeb7 /about/: Remove link hover underline from contributor usernames.
8e2cded lint: Fix lines in Python codebase longer than 120 characters.
b936e8c lint: Fix lines in Python codebase longer than 125 characters.
be619fe lint: Wrap many very long lines in the Python codebase.
c771873 informational-overlays: Make tab-switcher full-size.
635675f Reduce queries needed for sending messages.
9b6a4d0 refactor: Extract MessageDict.finalize_payload().
df93a99 Cache only one row per message.
0cef7c9 Refactor: Extract get_client_info_for_message_event().
a506711 tests: Add test_content_types().
c2a5b5f zerver/migrations: Use python 3 syntax for typing.
a311678 zerver/management: Use python 3 syntax for typing.
6500611 /plans/: Change FAQ section answers to <p>.
798133a landing-pages: Remove :hover underlines in unecessary places.
1a28343 docs: Clean up links for writing integration docs.
ec17460 docs: Update preferred integration logo format to svg.
a2a0e9b landing-page: Detect meta key to prevent page transitions.
1792dcb tests: Call real consume method of queue processors.
18e5bcb tests: Enable call_consume_in_tests for email mirror queue.
17949ad embedded bots: Add StateHandler remove() function.
3d7fb48 portico-header: Add down chevron to indicate dropdown.
53d739f portico-header: Add pill with org/realm name.
df03e30 popovers: Fix is-active checks for popovers.
3e16b02 docs: Update release checklist following 1.7.0 release.
25cb6af mangement: Create command for creating default stream groups.
b8658c6 default stream groups: Use cleaner system for error handling.
eecdc5b registration: Add option to choose default stream groups.
4f00170 models: Create DefaultStreamGroup.
ae9d686 features: Make more responsive.
e20dd2f features: Add constraints to message-feed image.
559f696 docs: Fix spelling in template.
66ebe97 subdomains: Refactor get_subdomain a bit.
cc32634 subdomains: Simplify is_subdomain_root_or_alias.
69e44a6 subdomains: Refactor Realm.get_bot_domain to rely on Realm.host.
f676635 subdomains: Refactor Realm.uri as a trivial wrapper for Realm.host.
30cc299 social auth: Replace a bit of explicit model-querying with get_realm.
093bae4 subdomains: Fix some implicit uses of "" for the root subdomain.
27adbe8 subdomains: Clean up a use of various falsy values for the root domain.
4a6e867 lint: Disable a buggy `pep8` rule on line breaks and operators.
be309bc subdomains: Complete the refactor to user_matches_subdomain.
c9457d4 subdomains: Refactor check_subdomain to a clearer interface.
7c467a8 subdomains: Fix one backward call site of check_subdomain.
7bec0a2 subdomains: Simplify out check_subdomain from an uncommon use.
f10e66e subdomains: Simplify a funny call site of get_subdomain.
f8f4d9c people.js: Rename realm_get -> get_active_user_for_email.
2699a6a refactor: Extract people.is_valid_email_for_compose().
8cf5e05 Rename realm_people_dict -> active_user_dict.
646bd35 Rename get_realm_human_user_ids -> get_active_user_ids.
03805fd landing-page: Remove incorrect gray text.
f885ec8 landing-page: Make <ul> formatting consistent.
2f52da7 test_signup: extract InviteUserBase class
8680541 embedded bots: Add message flow tests.
a88178a Embedded bots: Add support for creating embedded bots via the API.
ce4ba9c bot services: Use call_consume_in_tests.
0473692 embedded bots: Properly reply to PMs and streams
d0c0b14 bot services: Rename add_outgoing_webhook_service to add_service.
e041abd tests: Add create_test_bot() helper function.
1a0f075 lint: Fix indentation in portico header HTML.
3cf88d8 embedded bots: Add virtual_fs bot.
0d0c8fe embedded bots: Migrate StateHandler API to use get and put.
34e3eb8 embedded bots: Rename state and state_handler to storage.
cd600b8 embedded bots: Add StateHandler marshaling functions.
51f1281 docs: Specify the updated bot StateHandler API.
81a6b0d docs: Update deprecated code in writing bots guide.
fd779c1 compose: Remove PM recipient box outline.
a14ec17 dev_login: Don't redirect to realm if it doesn't exist.
a9a9333 portico: Show whether the user is logged in.
d5bb4a2 portico: Add common class between two portico headers.
ec43a6e portico: Add "porticocustomhead" block to base.html.
9314a7a backends: Move EmailLogBackEnd to email_backends.
1d94119 actions: Call send_initial_pms from process_new_human_user.
49ad5c7 js: Update minor versions of several node dependencies.
14d2d4e Fix bug in flush_user_profile().
c887569 Extract changed() helper in flush_user_profile().
70c053d Call get_realm_stream() in access_stream_by_name().
1bfc162 refactor: Rename get_stream_backend to get_realm_stream.
2387fa7 tests: Make test_people() more robust.
305fe61 Add `realm_non_active_users` data to initial payload.
b94c062 Make the realm user cache include non-active users.
769c741 refactor: Simplify event updates for `realm_users`.
d239f77 refactor: Replace mkdir_p functions with Python 3 builtin.
bd814ee webhooks/taiga: Support relateduserstory events.
0ddad98 features.html: Cleanup to use 4 space and consistant indentation.
3fb0f7c home.html: Cleanup to use 4 space indentation.
a03f322 version: Bump version following 1.7 release.
